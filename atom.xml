<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>羊末离殇的独立博客</title>
  
  <subtitle>与代码的持久博弈</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://github.ymlsfly.xin/"/>
  <updated>2018-12-22T04:23:08.795Z</updated>
  <id>http://github.ymlsfly.xin/</id>
  
  <author>
    <name>羊末离殇</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>effect_java_study</title>
    <link href="http://github.ymlsfly.xin/2018/12/19/effect-java-study/"/>
    <id>http://github.ymlsfly.xin/2018/12/19/effect-java-study/</id>
    <published>2018-12-19T14:07:07.000Z</published>
    <updated>2018-12-22T04:23:08.795Z</updated>
    
    <content type="html"><![CDATA[<h2 id="effect-java学习笔记"><a href="#effect-java学习笔记" class="headerlink" title="effect-java学习笔记"></a>effect-java学习笔记</h2><h4 id="基本类型和装箱类型的选择"><a href="#基本类型和装箱类型的选择" class="headerlink" title="基本类型和装箱类型的选择"></a>基本类型和装箱类型的选择</h4><ul><li>优先使用基本类型而不是装箱的基本类型，也要注意无意识的自动装箱。</li></ul><h4 id="警惕内存泄露"><a href="#警惕内存泄露" class="headerlink" title="警惕内存泄露"></a>警惕内存泄露</h4><ul><li>清空对象引用应该是例外而不是规范。</li><li>当一个类自己管理内存时，程序员应该警惕内存泄漏问题。另一个常见的内存泄漏来源是缓存。</li></ul><h4 id="重写equals方法必须遵守的规定"><a href="#重写equals方法必须遵守的规定" class="headerlink" title="重写equals方法必须遵守的规定"></a>重写equals方法必须遵守的规定</h4><p>equals方法实现了一个等价关系（equivalence relation）。它有以下这些属性:</p><ul><li>自反性：对于任何非空引用x，x.equals(x)必须返回true。</li><li>对称性：对于任何非空引用x和y，如果且仅当y.equals(x)返回true时x.equals(y)必须返回true。</li><li>传递性：对于任何非空引用x、y、z，如果x.equals(y)返回true，y.equals(z)返回true，则x.equals(z)必须返回true。</li><li>一致性：对于任何非空引用x和y，如果在equals比较中使用的信息没有修改，则x.equals(y)的多次调用必须始终返回true或始终返回false。</li><li>对于任何非空引用x，x.equals(null)必须返回false。</li></ul><ol><li>当重写equals方法时，同时也要重写hashCode方法。</li><li>不要让equals方法试图太聪明。</li><li>在equal 时方法声明中，不要将参数Object替换成其他类型。</li></ol><h4 id="在每个类中，在重写-equals-方法的时侯，一定要重写-hashcode-方法"><a href="#在每个类中，在重写-equals-方法的时侯，一定要重写-hashcode-方法" class="headerlink" title="在每个类中，在重写 equals 方法的时侯，一定要重写 hashcode 方法"></a>在每个类中，在重写 equals 方法的时侯，一定要重写 hashcode 方法</h4><ol><li>当在一个应用程序执行过程中，如果在equals方法比较中没有修改任何信息，在一个对象上重复调用hashCode方法时，它必须始终返回相同的值。从一个应用程序到另一个应用程序的每一次执行返回的值可以是不一致的。</li><li>如果两个对象根据equals(Object)方法比较是相等的，那么在两个对象上调用hashCode就必须产生的结果是相同的整数。</li><li>如果两个对象根据equals(Object)方法比较并不相等，则不要求在每个对象上调用hashCode都必须产生不同的结果。 但是，程序员应该意识到，为不相等的对象生成不同的结果可能会提高散列表（hash tables）的性能。</li></ol><ul><li>当无法重写hashCode时，所违反第二个关键条款是：相等的对象必须具有相等的哈希码（ hash codes）。</li><li>不要试图从哈希码计算中排除重要的属性来提高性能。</li><li>不要为hashCode返回的值提供详细的规范，因此客户端不能合理地依赖它； 你可以改变它的灵活性。</li></ul><h4 id="始终重写toString方法"><a href="#始终重写toString方法" class="headerlink" title="始终重写toString方法"></a>始终重写toString方法</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;effect-java学习笔记&quot;&gt;&lt;a href=&quot;#effect-java学习笔记&quot; class=&quot;headerlink&quot; title=&quot;effect-java学习笔记&quot;&gt;&lt;/a&gt;effect-java学习笔记&lt;/h2&gt;&lt;h4 id=&quot;基本类型和装箱类型的选择&quot;
      
    
    </summary>
    
      <category term="java" scheme="http://github.ymlsfly.xin/categories/java/"/>
    
    
      <category term="effect-java" scheme="http://github.ymlsfly.xin/tags/effect-java/"/>
    
  </entry>
  
  <entry>
    <title>svn安装部署</title>
    <link href="http://github.ymlsfly.xin/2018/12/19/svn/"/>
    <id>http://github.ymlsfly.xin/2018/12/19/svn/</id>
    <published>2018-12-19T12:45:37.000Z</published>
    <updated>2018-12-19T12:49:11.775Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SVN服务器的部署使用"><a href="#SVN服务器的部署使用" class="headerlink" title="SVN服务器的部署使用"></a>SVN服务器的部署使用</h1><pre><code>本文是博主亲自折腾过然后记录下的笔记，基本已经很全了，希望对其他的朋友都有帮助。   注明，博主折腾所用的是ubuntu服务器。</code></pre><h2 id="部署安装svn服务器"><a href="#部署安装svn服务器" class="headerlink" title="部署安装svn服务器"></a><em><strong>部署安装svn服务器</strong></em></h2><h3 id="1、安装svn"><a href="#1、安装svn" class="headerlink" title="1、安装svn"></a>1、安装svn</h3><p> 查看是否已经安装了svn：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn --version</span><br></pre></td></tr></table></figure></p><p>如果已经安装，可以卸载（自选，重装即卸载）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove --purge subversion</span><br><span class="line"><span class="comment"># （--purge 选项表示彻底删除该软件和相关文件）</span></span><br></pre></td></tr></table></figure></p><p>更新源并安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install subversion</span><br></pre></td></tr></table></figure></p><h3 id="2、创建svn版本库"><a href="#2、创建svn版本库" class="headerlink" title="2、创建svn版本库"></a>2、创建svn版本库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir /<span class="built_in">test</span>/svn</span><br><span class="line">mkdir /<span class="built_in">test</span>/svn/repository</span><br><span class="line"><span class="comment"># 更改repository的权限（第一次搭建没有赋予权限，客户端访问服务器被拒绝）</span></span><br><span class="line">chmod -R 777 /<span class="built_in">test</span>/svn/repository</span><br><span class="line"><span class="comment"># 创建版本库</span></span><br><span class="line">svnadmin create /<span class="built_in">test</span>/svn/repository</span><br></pre></td></tr></table></figure><h3 id="3、修改配置文件"><a href="#3、修改配置文件" class="headerlink" title="3、修改配置文件"></a>3、修改配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /<span class="built_in">test</span>/svn/repository</span><br><span class="line">chmod -R 777 db</span><br></pre></td></tr></table></figure><ol><li><p>修改配置文件conf/svnserve.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim /<span class="built_in">test</span>/svn/repository/conf/svnserve.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 匿名用户可读（可改成none，即不可读）</span></span><br><span class="line">anon-access = <span class="built_in">read</span></span><br><span class="line"><span class="comment"># 权限用户可写</span></span><br><span class="line">auth-access = write</span><br><span class="line"><span class="comment"># 密码文件为passwd</span></span><br><span class="line">password-db = passwd</span><br><span class="line"><span class="comment"># 权限文件为authz</span></span><br><span class="line">authz-db = authz</span><br><span class="line"><span class="comment"># （tip：去掉前面的# 并且顶格，不然会报错）</span></span><br></pre></td></tr></table></figure></li><li><p>添加访问用户密码文件conf/passwd</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /<span class="built_in">test</span>/svn/repository/conf/passwd</span><br><span class="line"></span><br><span class="line">[users]</span><br><span class="line">fy = 123</span><br><span class="line">hello = hello</span><br><span class="line"><span class="comment"># （直接用户名 = 密码，一行一个用户，明文密码）</span></span><br></pre></td></tr></table></figure></li><li><p>设置用户权限conf/authz</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vim /<span class="built_in">test</span>/svn/repository/conf/authz</span><br><span class="line"></span><br><span class="line">[groups]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切记组要定义在目录上面，否则会报错</span></span><br><span class="line"><span class="comment"># 用户fy属于admin权限组</span></span><br><span class="line">admin = fy</span><br><span class="line"></span><br><span class="line">[/]</span><br><span class="line"><span class="comment"># admin权限组的权限是读和写</span></span><br><span class="line">@admin = rw</span><br><span class="line"><span class="comment"># 所有的组都具有读权限和写权限</span></span><br><span class="line">* = r</span><br><span class="line"><span class="comment"># （[/]代表的根目录，注意定义用户组一定要放在最上面）</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="4、启动svn服务器"><a href="#4、启动svn服务器" class="headerlink" title="4、启动svn服务器"></a>4、启动svn服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r /<span class="built_in">test</span>/svn</span><br><span class="line"><span class="comment"># （-d：表示在后台运行，-r：指定服务器的根目录）</span></span><br></pre></td></tr></table></figure><p>用如下命令查看svnserve是否已经运行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep svnserve</span><br><span class="line">&gt;&gt;root     28019  0.0  0.1  73492  2860 ?        Ss   Apr04   0:00 svnserve -d -r /software/svn/</span><br><span class="line"><span class="comment"># （表示服务器已经在后台运行了）</span></span><br></pre></td></tr></table></figure></p><p>如果需要关闭svn服务器，可以用如下命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall svnserve</span><br></pre></td></tr></table></figure></p><h3 id="5、客户端连接"><a href="#5、客户端连接" class="headerlink" title="5、客户端连接"></a>5、客户端连接</h3><p>在windows上打开小乌龟客户端，输入地址访问：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">svn://ip/repository</span></span><br><span class="line"># （按照登录用户不同，所得权限就不同）</span><br></pre></td></tr></table></figure></p><h2 id="svn和Apache整合"><a href="#svn和Apache整合" class="headerlink" title="svn和Apache整合"></a><em><strong>svn和Apache整合</strong></em></h2><h3 id="1、安装Apache"><a href="#1、安装Apache" class="headerlink" title="1、安装Apache"></a>1、安装Apache</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install apache2</span><br></pre></td></tr></table></figure><h3 id="2、修改Apache端口"><a href="#2、修改Apache端口" class="headerlink" title="2、修改Apache端口"></a>2、修改Apache端口</h3><p>（可选，此处因为博主nginx用了80端口，所以更换Apache端口为8081）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apache2/ports/conf</span><br><span class="line">Listen 8081</span><br><span class="line"></span><br><span class="line">vim /etc/apache2/sites-available/000-default.conf</span><br><span class="line">&lt;VirtualHost *:8081&gt;</span><br></pre></td></tr></table></figure></p><h3 id="3、安装整合需要的组件"><a href="#3、安装整合需要的组件" class="headerlink" title="3、安装整合需要的组件"></a>3、安装整合需要的组件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install libapache2-svn</span><br><span class="line">apt-get install apache2-utils</span><br></pre></td></tr></table></figure><h3 id="4、修改Apache模块儿部分的配置文件"><a href="#4、修改Apache模块儿部分的配置文件" class="headerlink" title="4、修改Apache模块儿部分的配置文件"></a>4、修改Apache模块儿部分的配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apache2/mods-enabled/dav_svn.load</span><br><span class="line">LoadModule dav_svn_module /usr/lib/apache2/modules/mod_dav_svn.so  </span><br><span class="line">LoadModule authz_svn_module /usr/lib/apache2/modules/mod_authz_svn.so</span><br></pre></td></tr></table></figure><h3 id="5、生成新的整合后登录的密码文件"><a href="#5、生成新的整合后登录的密码文件" class="headerlink" title="5、生成新的整合后登录的密码文件"></a>5、生成新的整合后登录的密码文件</h3><p>（可以直接用SVN的密码文件，但会覆盖，所以最好先备份，<br>原密码文件只能用于svn://前缀协议的登录，此生成的新密码文件只能用于http ://前缀协议的登录）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp /<span class="built_in">test</span>/svn/repository/conf/passwd /<span class="built_in">test</span>/svn/repository/conf/passwd.bak</span><br><span class="line">htpasswd -c /<span class="built_in">test</span>/svn/repository/conf/passwd <span class="string">'用户1'</span></span><br><span class="line">htpasswd /<span class="built_in">test</span>/svn/repository/conf/passwd <span class="string">'用户2'</span></span><br><span class="line"><span class="comment"># （切记：首次创建需要添加-c选项，如果再次添加用户的话不需要添加-c选项了，如果添加-c选项，之前已经添加的用户就会消失，相当于从新开始了）</span></span><br></pre></td></tr></table></figure></p><h3 id="6、配置Apache，以http的协议方式访问svn服务"><a href="#6、配置Apache，以http的协议方式访问svn服务" class="headerlink" title="6、配置Apache，以http的协议方式访问svn服务"></a>6、配置Apache，以http的协议方式访问svn服务</h3><p>（在安装libapache2-svn的时候，生成了一个路径为/etc/apache2/mods-available/dav_svn.conf的文件，直接进行修改即可）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apache2/mods-available/dav_svn.conf</span><br><span class="line"></span><br><span class="line">&lt;Location /svn&gt;</span><br><span class="line"><span class="comment"># http中需要输入的前缀</span></span><br><span class="line">DAV svn</span><br><span class="line"><span class="comment"># SVNParentPath /test/svn/repository  </span></span><br><span class="line"><span class="comment"># 挂载linux的文件路径</span></span><br><span class="line">SVNPath /<span class="built_in">test</span>/svn/repository</span><br><span class="line">AuthType Basic</span><br><span class="line">AuthName <span class="string">"Subversion Repository"</span></span><br><span class="line"><span class="comment"># 文字提示</span></span><br><span class="line">AuthUserFile /<span class="built_in">test</span>/svn/repository/conf/passwd</span><br><span class="line"><span class="comment"># 密码文件</span></span><br><span class="line">AuthzSVNAccessFile /<span class="built_in">test</span>/svn/repository/conf/authz</span><br><span class="line"><span class="comment"># 权限配置文件</span></span><br><span class="line">Require valid-user</span><br><span class="line"><span class="comment"># 每次登陆都输入密码</span></span><br><span class="line">&lt;/Location&gt;</span><br></pre></td></tr></table></figure></p><h3 id="7、重启svn，重启Apache"><a href="#7、重启svn，重启Apache" class="headerlink" title="7、重启svn，重启Apache"></a>7、重启svn，重启Apache</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">killall svnserve</span><br><span class="line">svnserve -d -r /<span class="built_in">test</span>/svn</span><br><span class="line">service apache2 restart</span><br></pre></td></tr></table></figure><h3 id="8、svn登录"><a href="#8、svn登录" class="headerlink" title="8、svn登录"></a>8、svn登录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip:8081/svn</span><br></pre></td></tr></table></figure><h2 id="一点小tip"><a href="#一点小tip" class="headerlink" title="一点小tip"></a>一点小tip</h2><h3 id="问题补充"><a href="#问题补充" class="headerlink" title="问题补充"></a>问题补充</h3><ul><li>客户端没有报错原因，在服务器端可以检查配置文件是否有误<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svnauthz-validate /<span class="built_in">test</span>/svn/repository/conf/svnserve.conf</span><br><span class="line">svnauthz-validate /<span class="built_in">test</span>/svn/repository/conf/passwd</span><br><span class="line">svnauthz-validate /<span class="built_in">test</span>/svn/repository/conf/authz</span><br></pre></td></tr></table></figure></li></ul><p>如果读者有啥好的建议，或新的tip，等等都可以留言，博主会及时更新此博客！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SVN服务器的部署使用&quot;&gt;&lt;a href=&quot;#SVN服务器的部署使用&quot; class=&quot;headerlink&quot; title=&quot;SVN服务器的部署使用&quot;&gt;&lt;/a&gt;SVN服务器的部署使用&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;本文是博主亲自折腾过然后记录下的笔记，基本已经很全了
      
    
    </summary>
    
      <category term="svn" scheme="http://github.ymlsfly.xin/categories/svn/"/>
    
    
      <category term="svn" scheme="http://github.ymlsfly.xin/tags/svn/"/>
    
  </entry>
  
  <entry>
    <title>使用laydate来显示个性化的时间输入框</title>
    <link href="http://github.ymlsfly.xin/2018/03/16/%E4%BD%BF%E7%94%A8laydate%E6%9D%A5%E6%98%BE%E7%A4%BA%E4%B8%AA%E6%80%A7%E5%8C%96%E7%9A%84%E6%97%B6%E9%97%B4%E8%BE%93%E5%85%A5%E6%A1%86/"/>
    <id>http://github.ymlsfly.xin/2018/03/16/使用laydate来显示个性化的时间输入框/</id>
    <published>2018-03-16T09:08:35.000Z</published>
    <updated>2018-03-16T11:26:51.860Z</updated>
    
    <content type="html"><![CDATA[<h2 id="内容简介"><a href="#内容简介" class="headerlink" title="内容简介"></a>内容简介</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">常规用法</span><br><span class="line">国际化</span><br><span class="line">年选择器</span><br><span class="line">年月选择器</span><br><span class="line">时间选择器</span><br><span class="line">日期时间选择器</span><br><span class="line">日期范围</span><br><span class="line">年范围</span><br><span class="line">年月范围</span><br><span class="line">时间范围</span><br><span class="line">日期时间范围</span><br><span class="line">自定义格式</span><br><span class="line">开启公历节日</span><br><span class="line">自定义重要日</span><br><span class="line">限定可选日期</span><br><span class="line">限定可选时间</span><br><span class="line">初始赋值</span><br><span class="line">选中后的回调</span><br><span class="line">日期切换的回调</span><br><span class="line">不出现底部栏</span><br><span class="line">只出现确定按钮</span><br><span class="line">自定义事件</span><br><span class="line">自定义颜色</span><br><span class="line">格子主题</span><br></pre></td></tr></table></figure><h2 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a>代码展示</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/laydate/laydate.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">/*常规用法*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date1_1'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*国际版*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date1_2',</span></span><br><span class="line"><span class="undefined">lang: 'en'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*年选择器*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date2_1',</span></span><br><span class="line"><span class="undefined">type: 'year'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*年月选择器*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date2_2',</span></span><br><span class="line"><span class="undefined">type: 'month'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*时间选择器*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date2_3',</span></span><br><span class="line"><span class="undefined">type: 'time'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*日期时间选择器*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date2_4',</span></span><br><span class="line"><span class="undefined">type: 'datetime'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*日期范围*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date3_1',</span></span><br><span class="line"><span class="undefined">range: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*年范围*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date3_2',</span></span><br><span class="line"><span class="undefined">type: 'year',</span></span><br><span class="line"><span class="undefined">range: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*年月范围*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date3_3',</span></span><br><span class="line"><span class="undefined">type: 'month',</span></span><br><span class="line"><span class="undefined">range: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*时间范围*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date3_4',</span></span><br><span class="line"><span class="undefined">type: 'time',</span></span><br><span class="line"><span class="undefined">range: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*日期时间范围*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date3_5',</span></span><br><span class="line"><span class="undefined">type: 'datetime',</span></span><br><span class="line"><span class="undefined">range: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*自定义格式*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_1',</span></span><br><span class="line"><span class="undefined">format: 'yyyy年MM月dd日'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_2',</span></span><br><span class="line"><span class="undefined">format: 'dd/MM/yyyy'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_3',</span></span><br><span class="line"><span class="undefined">format: 'yyyyMM'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_4',</span></span><br><span class="line"><span class="undefined">type: 'time',</span></span><br><span class="line"><span class="undefined">format: 'H点M分'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_5',</span></span><br><span class="line"><span class="undefined">type: 'month',</span></span><br><span class="line"><span class="undefined">range: '→',</span></span><br><span class="line"><span class="undefined">format: 'yyyy-MM'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date4_6',</span></span><br><span class="line"><span class="undefined">type: 'datetime',</span></span><br><span class="line"><span class="undefined">range: '到',</span></span><br><span class="line"><span class="undefined">format: 'yyyy年M月d日H时m分s秒'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*开启公历节日*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date5_1',</span></span><br><span class="line"><span class="undefined">calendar: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*自定义重要日*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date5_2',</span></span><br><span class="line"><span class="undefined">mark: &#123;</span></span><br><span class="line"><span class="undefined">'0-10-14': '生日',</span></span><br><span class="line"><span class="undefined">'0-12-31': '跨年' //每年的日期</span></span><br><span class="line"><span class="undefined">,</span></span><br><span class="line"><span class="undefined">'0-0-10': '工资' //每月某天</span></span><br><span class="line"><span class="undefined">,</span></span><br><span class="line"><span class="undefined">'0-0-15': '月中',</span></span><br><span class="line"><span class="undefined">'2017-8-15': '' //如果为空字符，则默认显示数字+徽章</span></span><br><span class="line"><span class="undefined">,</span></span><br><span class="line"><span class="undefined">'2099-10-14': '呵呵'</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">done: function(value, date) &#123;</span></span><br><span class="line"><span class="undefined">if(date.year === 2017 &amp;&amp; date.month === 8 &amp;&amp; date.date === 15) &#123; </span></span><br><span class="line"><span class="undefined">/*点击2017年8月15日，弹出提示语*/</span></span><br><span class="line"><span class="undefined">alert('这一天是：中国人民抗日战争胜利72周年');</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*限定可选日期*/</span></span><br><span class="line"><span class="undefined">var ins22 = laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date6_1',</span></span><br><span class="line"><span class="undefined">min: '2016-10-14',</span></span><br><span class="line"><span class="undefined">max: '2080-10-14',</span></span><br><span class="line"><span class="undefined">ready: function() &#123;</span></span><br><span class="line"><span class="xml">ins22.hint('日期可选值设定在 <span class="tag">&lt;<span class="name">br</span>&gt;</span> 2016-10-14 到 2080-10-14');</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*前后若干天可选，这里以7天为例*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date6_2',</span></span><br><span class="line"><span class="undefined">min: -7,</span></span><br><span class="line"><span class="undefined">max: 7</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*限定可选时间*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date6_3',</span></span><br><span class="line"><span class="undefined">type: 'time',</span></span><br><span class="line"><span class="undefined">min: '09:30:00',</span></span><br><span class="line"><span class="undefined">max: '17:30:00',</span></span><br><span class="line"><span class="undefined">btns: ['clear', 'confirm']</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*初始赋值*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_1',</span></span><br><span class="line"><span class="undefined">value: '1989-10-14'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*选中后的回调*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_2',</span></span><br><span class="line"><span class="undefined">done: function(value, date) &#123;</span></span><br><span class="line"><span class="undefined">alert('你选择的日期是：' + value + '\n获得的对象是' + JSON.stringify(date));</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*日期切换的回调*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_3',</span></span><br><span class="line"><span class="undefined">change: function(value, date) &#123;</span></span><br><span class="line"><span class="undefined">alert('你选择的日期是：' + value + '\n\n获得的对象是' + JSON.stringify(date));</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*不出现底部栏*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_4',</span></span><br><span class="line"><span class="undefined">showBottom: false</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*只出现确定按钮*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_5',</span></span><br><span class="line"><span class="undefined">btns: ['confirm']</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*自定义事件*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date7_6',</span></span><br><span class="line"><span class="undefined">trigger: 'mousedown'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*墨绿主题*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date8_1',</span></span><br><span class="line"><span class="undefined">theme: 'molv'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*自定义颜色*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date8_2',</span></span><br><span class="line"><span class="undefined">theme: '#393D49'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*格子主题*/</span></span><br><span class="line"><span class="undefined">laydate.render(&#123;</span></span><br><span class="line"><span class="undefined">elem: '.date8_3',</span></span><br><span class="line"><span class="undefined">theme: 'grid'</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">date:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">datetime-local:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"datetime-local"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">time:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"time"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">中文版：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date1_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">国际版：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date1_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">年选择器：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date2_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">年月选择器：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date2_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">时间选择器：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date2_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">日期时间选择器：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date2_4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">日期范围：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date3_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">年范围：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date3_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">年月范围：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date3_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">时间范围：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date3_4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">日期时间范围：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date3_5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">yyyy年MM月dd日：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">dd/MM/yyyy：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">yyyyMM：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">H点M分：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">yyyy-MM：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">yyyy年M月d日H时m分s秒：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date4_6"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">开启公历节日：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date5_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">自定义重要日：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date5_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">限定可选日期：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date6_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">前后若干天可选：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date6_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">限定可选时间：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date6_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">初始赋值：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">选中后的回调：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">日期切换的回调：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">不出现底部栏：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">只出现确定按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">自定义事件：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date7_6"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">墨绿主题：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date8_1"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">自定义颜色：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date8_2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">格子主题：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">readonly</span>=<span class="string">"readonly"</span> <span class="attr">class</span>=<span class="string">"date8_3"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><hr><p><a href="http://github.ifdream.xin/demo/laydate/laydateDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/laydate/laydateDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/js/laydate/laydate.js</span><br><span class="line">http://github.ifdream.xin/js/laydate/theme.zip</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;内容简介&quot;&gt;&lt;a href=&quot;#内容简介&quot; class=&quot;headerlink&quot; title=&quot;内容简介&quot;&gt;&lt;/a&gt;内容简介&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
      <category term="日期时间输入框" scheme="http://github.ymlsfly.xin/categories/%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E8%BE%93%E5%85%A5%E6%A1%86/"/>
    
    
      <category term="datetime" scheme="http://github.ymlsfly.xin/tags/datetime/"/>
    
  </entry>
  
  <entry>
    <title>cannot be read or is not a valid ZIP file</title>
    <link href="http://github.ymlsfly.xin/2018/01/30/cannot-be-read-or-is-not-a-valid-ZIP-file/"/>
    <id>http://github.ymlsfly.xin/2018/01/30/cannot-be-read-or-is-not-a-valid-ZIP-file/</id>
    <published>2018-01-30T08:23:42.000Z</published>
    <updated>2018-01-30T08:32:33.890Z</updated>
    
    <content type="html"><![CDATA[<p>博主今天在eclipse中导入一个maven项目，在项目上报了个叹号，项目不能运行，打开problem窗口，终于在里面看到了错误：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cannot be read or is not a valid ZIP file</span><br></pre></td></tr></table></figure><p>百思不得其解，终于在网上找到了答案，这种异常错误是依赖的jar包没有完全下好。到repository 中删去相应的jar目录 让maven重新去下载。如果还报错，删除maven报错，eclipse中打开pom.xml 编辑状态 重新保存。看看最新的报错信息，进入对应的目录，删除即可。</p><p>博主就是到自己本地的maven仓库找到错误中指定位置指定的jar，将其完全删除，然后回到maven项目，随便变动下pom.xml文件，然后重新保存，让其重新下载那个没下载好的jar，等下完后就发现项目上的叹号没有了，问题解决了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;博主今天在eclipse中导入一个maven项目，在项目上报了个叹号，项目不能运行，打开problem窗口，终于在里面看到了错误：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;
      
    
    </summary>
    
      <category term="异常错误集" scheme="http://github.ymlsfly.xin/categories/%E5%BC%82%E5%B8%B8%E9%94%99%E8%AF%AF%E9%9B%86/"/>
    
    
      <category term="maven" scheme="http://github.ymlsfly.xin/tags/maven/"/>
    
      <category term="eclipse报错" scheme="http://github.ymlsfly.xin/tags/eclipse%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>zTree的试炼</title>
    <link href="http://github.ymlsfly.xin/2018/01/29/zTree%E7%9A%84%E8%AF%95%E7%82%BC/"/>
    <id>http://github.ymlsfly.xin/2018/01/29/zTree的试炼/</id>
    <published>2018-01-29T09:29:09.000Z</published>
    <updated>2018-01-29T11:04:52.745Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>jQuery的插件特别多，前几天博主盯上了zTree，这个有名的jquery树插件，然后通过网上一些别人的资料，以及官方的API，将zTree稍过了下，今天就将其分享出来！</p><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><ol><li>初始化zTree</li><li>zTree的配置</li><li>添加/删除/获取/修改节点</li><li>全选/反选节点</li><li>节点上移下移</li><li>节点右键菜单</li></ol><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> zTreeDemo <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/demo.css"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/zTreeStyle.css"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">#rMenuUl&#123;</span></span><br><span class="line"><span class="undefined">border: 1px dashed #617775;</span></span><br><span class="line"><span class="undefined">display: none;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#rMenuUl li&#123;</span></span><br><span class="line"><span class="undefined">list-style: none;</span></span><br><span class="line"><span class="undefined">text-align: center;</span></span><br><span class="line"><span class="undefined">width: 100px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#rMenuUl li:hover&#123;</span></span><br><span class="line"><span class="undefined">background-color: #617775;</span></span><br><span class="line"><span class="undefined">color: white;</span></span><br><span class="line"><span class="undefined">cursor: pointer;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery.ztree.all.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">var zTreeObj;</span></span><br><span class="line"><span class="undefined">var nowRightClickNode = null;</span></span><br><span class="line"><span class="undefined">// zTree 的参数配置，深入使用请参考 API 文档（setting 配置详解）</span></span><br><span class="line"><span class="undefined">var setting = &#123;</span></span><br><span class="line"><span class="undefined">treeId: "",</span></span><br><span class="line"><span class="undefined">treeObj: null,</span></span><br><span class="line"><span class="undefined">view: &#123;</span></span><br><span class="line"><span class="undefined">selectedMulti: true, //设置是否能够同时选中多个节点</span></span><br><span class="line"><span class="undefined">showIcon: true, //设置是否显示节点图标</span></span><br><span class="line"><span class="undefined">showLine: true, //设置是否显示节点与节点之间的连线</span></span><br><span class="line"><span class="undefined">showTitle: true, //设置是否显示节点的title提示信息</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">data: &#123;</span></span><br><span class="line"><span class="undefined">simpleData: &#123;</span></span><br><span class="line"><span class="undefined">enable: false, //设置是否启用简单数据格式（zTree支持标准数据格式跟简单数据格式）</span></span><br><span class="line"><span class="undefined">idKey: "id", //设置启用简单数据格式时id对应的属性名称</span></span><br><span class="line"><span class="undefined">pidKey: "pId" //设置启用简单数据格式时parentId对应的属性名称,ztree根据id及pid层级关系构建树结构</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">check: &#123;</span></span><br><span class="line"><span class="undefined">enable: true //设置是否显示checkbox复选框</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">callback: &#123;</span></span><br><span class="line"><span class="undefined">/*定义节点单击事件回调函数*/</span></span><br><span class="line"><span class="undefined">onClick: onClick,</span></span><br><span class="line"><span class="undefined">/*定义节点右键单击事件回调函数*/</span></span><br><span class="line"><span class="undefined">onRightClick: OnRightClick,</span></span><br><span class="line"><span class="undefined">/*定义节点重新编辑成功前回调函数，一般用于节点编辑时判断输入的节点名称是否合法*/</span></span><br><span class="line"><span class="undefined">beforeRename: beforeRename,</span></span><br><span class="line"><span class="undefined">/*定义节点双击事件回调函数*/</span></span><br><span class="line"><span class="undefined">onDblClick: "onDblClick",</span></span><br><span class="line"><span class="undefined">/*定义节点复选框选中或取消选中事件的回调函数*/</span></span><br><span class="line"><span class="undefined">onCheck: onCheck</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">async: &#123;</span></span><br><span class="line"><span class="undefined">/*设置启用异步加载*/</span></span><br><span class="line"><span class="undefined">enable: true,</span></span><br><span class="line"><span class="undefined">/*异步加载类型:post和get*/</span></span><br><span class="line"><span class="undefined">type: "get",</span></span><br><span class="line"><span class="undefined">/*定义ajax提交参数的参数类型，一般为json格式*/</span></span><br><span class="line"><span class="undefined">contentType: "application/json",</span></span><br><span class="line"><span class="undefined">/*定义数据请求路径*/</span></span><br><span class="line"><span class="undefined">url: "/Design/Get",</span></span><br><span class="line"><span class="undefined">/*定义提交时参数的名称，=号前面标识节点属性，后面标识提交时json数据中参数的名称*/</span></span><br><span class="line"><span class="undefined">autoParam: ["id=id", "name=name"]</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*节点数据*/</span></span><br><span class="line"><span class="undefined">var zNodes = [&#123;</span></span><br><span class="line"><span class="undefined">name: "test1",</span></span><br><span class="line"><span class="undefined">open: true,</span></span><br><span class="line"><span class="undefined">children: [&#123;</span></span><br><span class="line"><span class="undefined">name: "test1_1"</span></span><br><span class="line"><span class="undefined">&#125;, &#123;</span></span><br><span class="line"><span class="undefined">name: "test1_2"</span></span><br><span class="line"><span class="undefined">&#125;]</span></span><br><span class="line"><span class="undefined">&#125;,&#123;</span></span><br><span class="line"><span class="undefined">name: "test2",</span></span><br><span class="line"><span class="undefined">open: true,</span></span><br><span class="line"><span class="undefined">children: [&#123;</span></span><br><span class="line"><span class="undefined">name: "test2_1"</span></span><br><span class="line"><span class="undefined">&#125;, &#123;</span></span><br><span class="line"><span class="undefined">name: "test2_2"</span></span><br><span class="line"><span class="undefined">&#125;]</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">];</span></span><br><span class="line"><span class="undefined">$(document).ready(function() &#123;</span></span><br><span class="line"><span class="undefined">/*初始化时会返回该树*/</span></span><br><span class="line"><span class="undefined">var zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);</span></span><br><span class="line"><span class="undefined">/*获取所有选中的节点*/</span></span><br><span class="line"><span class="undefined">$("#getCheckedNodes").click(function()&#123;</span></span><br><span class="line"><span class="undefined">var nodes = zTreeObj.getCheckedNodes();</span></span><br><span class="line"><span class="undefined">var str = "选中的节点数：" + nodes.length;</span></span><br><span class="line"><span class="undefined">$.each(nodes, function(index,n) &#123;</span></span><br><span class="line"><span class="undefined">str += "\n" + n.name ;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">alert(str);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*添加节点*/</span></span><br><span class="line"><span class="undefined">$("#addNode").click(function() &#123;</span></span><br><span class="line"><span class="undefined">/*获取到该树*/</span></span><br><span class="line"><span class="undefined">var tree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">/*</span></span><br><span class="line"><span class="undefined"> *  parentNode:指定的父节点，如果增加根节点，请设置 parentNode 为 null 即可</span></span><br><span class="line"><span class="undefined">index:新节点插入的位置（从 0 开始），index = -1 时，插入到最后，此参数可忽略</span></span><br><span class="line"><span class="undefined">newNodes：需要增加的节点数据 JSON 对象集合，数据只需要满足 zTree 的节点数据必需的属性即可 </span></span><br><span class="line"><span class="undefined">isSilent：true 时，添加节点后不展开父节点，其他值或缺省状态都自动展开</span></span><br><span class="line"><span class="undefined"> * </span></span><br><span class="line"><span class="undefined"> * */</span></span><br><span class="line"><span class="undefined">tree.addNodes(null, 2, [&#123;</span></span><br><span class="line"><span class="undefined">name:"hello",</span></span><br><span class="line"><span class="undefined">open : true ,</span></span><br><span class="line"><span class="undefined">children : [</span></span><br><span class="line"><span class="undefined">&#123;name:"hello1"&#125; , &#123;name:"hello2"&#125;</span></span><br><span class="line"><span class="undefined">]&#125;], false);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*全选所有节点*/</span></span><br><span class="line"><span class="undefined">$("#checkAll").click(function()&#123;</span></span><br><span class="line"><span class="undefined">var tree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">/*checked参数为true时全部勾选，为false时全部取消勾选。*/</span></span><br><span class="line"><span class="undefined">tree.checkAllNodes(true);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*反选所有节点*/</span></span><br><span class="line"><span class="undefined">$("#checkAllNo").click(function()&#123;</span></span><br><span class="line"><span class="undefined">var tree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">var nodes = tree.getNodes();</span></span><br><span class="line"><span class="undefined">$.each(nodes, function(index,n) &#123;</span></span><br><span class="line"><span class="undefined">/*</span></span><br><span class="line"><span class="undefined"> * check_Child_State子节点勾选状态</span></span><br><span class="line"><span class="undefined"> * -1不存在子节点 或 子节点全部设置为 nocheck = true</span></span><br><span class="line"><span class="undefined">0无 子节点被勾选</span></span><br><span class="line"><span class="undefined">1部分 子节点被勾选</span></span><br><span class="line"><span class="undefined">2全部 子节点被勾选</span></span><br><span class="line"><span class="undefined"> * */</span></span><br><span class="line"><span class="undefined">if(n.check_Child_State == 0)&#123;</span></span><br><span class="line"><span class="undefined">checkXNode(tree , n);</span></span><br><span class="line"><span class="undefined">&#125;else&#123;</span></span><br><span class="line"><span class="undefined">checkCNode(tree , n);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">/*通过递归来反选某节点*/</span></span><br><span class="line"><span class="undefined">function checkCNode(tree , node)&#123;</span></span><br><span class="line"><span class="undefined">if(node.children != null)&#123;</span></span><br><span class="line"><span class="undefined">if(node.check_Child_State == 2)&#123;</span></span><br><span class="line"><span class="undefined">/*原来的子节点全被选中*/</span></span><br><span class="line"><span class="undefined">tree.checkNode(node,false);</span></span><br><span class="line"><span class="undefined">$.each(node.children, function(index , n) &#123;</span></span><br><span class="line"><span class="undefined">checkCNode(tree,n);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;else&#123;</span></span><br><span class="line"><span class="undefined">$.each(node.children, function(index , n) &#123;</span></span><br><span class="line"><span class="undefined">if(n.checked)&#123;</span></span><br><span class="line"><span class="undefined">checkCNode(tree , n);</span></span><br><span class="line"><span class="undefined">&#125;else&#123;</span></span><br><span class="line"><span class="undefined">checkXNode(tree,n);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;else&#123;</span></span><br><span class="line"><span class="undefined">/*node无子节点*/</span></span><br><span class="line"><span class="undefined">tree.checkNode(node,false); </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*通过递归来选择某节点*/</span></span><br><span class="line"><span class="undefined">function checkXNode(tree,node)&#123;</span></span><br><span class="line"><span class="undefined">tree.checkNode(node);</span></span><br><span class="line"><span class="undefined">if(node.children != null)&#123;</span></span><br><span class="line"><span class="undefined">$.each(node.children, function(index , n) &#123;</span></span><br><span class="line"><span class="undefined">checkXNode(tree , n);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*通过递归将某节点置为未选*/</span></span><br><span class="line"><span class="undefined">function checkNNode(tree , node)&#123;</span></span><br><span class="line"><span class="undefined">tree.checkNode(node,false); </span></span><br><span class="line"><span class="undefined">if(node.children)&#123;</span></span><br><span class="line"><span class="undefined">$.each(node.children, function(index , n) &#123;</span></span><br><span class="line"><span class="undefined">checkNNode(tree , n);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*节点单击事件*/</span></span><br><span class="line"><span class="undefined">function onClick(e, treeId, treeNode) &#123;</span></span><br><span class="line"><span class="undefined">/*如果不是叶子结点，结束*/</span></span><br><span class="line"><span class="undefined">if(treeNode.isParent)</span></span><br><span class="line"><span class="undefined">return;</span></span><br><span class="line"><span class="undefined">/*获取当前结点上的相关属性数据，执行相关逻辑*/</span></span><br><span class="line"><span class="undefined">alert(treeNode.name);</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*节点复选框事件*/</span></span><br><span class="line"><span class="undefined">function onCheck() &#123;</span></span><br><span class="line"><span class="undefined">/*获取树对象*/</span></span><br><span class="line"><span class="undefined">var treeObj = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">/*获取勾选状态改变的节点*/</span></span><br><span class="line"><span class="undefined">var nodes = treeObj.getChangeCheckedNodes();</span></span><br><span class="line"><span class="undefined">var designIds = [];</span></span><br><span class="line"><span class="undefined">/*定义初始勾选状态为未勾选*/</span></span><br><span class="line"><span class="undefined">var status = 0;</span></span><br><span class="line"><span class="undefined">if(nodes[0].checked)</span></span><br><span class="line"><span class="undefined">/*如果状态改变节点为勾选状态，说明当前操作是从未勾选变为已勾选。*/</span></span><br><span class="line"><span class="undefined">status = 1;</span></span><br><span class="line"><span class="undefined">$.each(nodes, function(i, item) &#123;</span></span><br><span class="line"><span class="undefined">/*将状态改变的节点id输出到数组*/</span></span><br><span class="line"><span class="undefined">designIds.push(item.id);</span></span><br><span class="line"><span class="undefined">/*将节点的初始状态置为当前状态。否则每次勾选操作获取状态改变节点时只会跟树初始化的状态相比较。*/</span></span><br><span class="line"><span class="undefined">item.checkedOld = item.checked;</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined">$.ajax(&#123;</span></span><br><span class="line"><span class="undefined">type: "Post",</span></span><br><span class="line"><span class="undefined">url: "url",</span></span><br><span class="line"><span class="undefined">data: &#123;</span></span><br><span class="line"><span class="undefined">"designIds": designIds</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">success: function(data) &#123;</span></span><br><span class="line"><span class="undefined">RealBimOcx.BatchAddSubClrInfoBegin();</span></span><br><span class="line"><span class="undefined">$.each(data.result, function(i, item) &#123;</span></span><br><span class="line"><span class="undefined">/*这里根据发生改变的节点是勾选还是为勾选进行相关逻辑操作。*/</span></span><br><span class="line"><span class="undefined">if(status == 1)</span></span><br><span class="line"><span class="undefined">RealBimOcx.AddSubClrInfo(item, 255, 255, 0);</span></span><br><span class="line"><span class="undefined">else</span></span><br><span class="line"><span class="undefined">RealBimOcx.AddSubClrInfo(item, 0, 255, 0);</span></span><br><span class="line"><span class="undefined">if(i % 100 == 0) &#123;</span></span><br><span class="line"><span class="undefined">RealBimOcx.BatchAddSubClrInfoEnd();</span></span><br><span class="line"><span class="undefined">RealBimOcx.BatchAddSubClrInfoBegin();</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined">RealBimOcx.BatchAddSubClrInfoEnd();</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*节点右键单击回调函数*/</span></span><br><span class="line"><span class="undefined">function OnRightClick(event, treeId, treeNode) &#123;</span></span><br><span class="line"><span class="undefined">nowRightClickNode = treeNode;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">$("#treeDemo").hide();</span></span><br><span class="line"><span class="undefined">if(treeNode)&#123;</span></span><br><span class="line"><span class="undefined">/*点击的是节点*/</span></span><br><span class="line"><span class="undefined">if(treeNode.getParentNode() == null)&#123;</span></span><br><span class="line"><span class="undefined">zTree.cancelSelectedNode();</span></span><br><span class="line"><span class="undefined">/*根据鼠标位置显示右键操作面板*/</span></span><br><span class="line"><span class="undefined">showRMenu("root", event.clientX, event.clientY);</span></span><br><span class="line"><span class="undefined">&#125; else if(!treeNode.noR) &#123;</span></span><br><span class="line"><span class="undefined">zTree.selectNode(treeNode,false,false);</span></span><br><span class="line"><span class="undefined">showRMenu("node", event.clientX, event.clientY);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">$("#treeDemo").show();</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*根据节点类型，控制右键操作菜单哪些可用哪些不可用*/</span></span><br><span class="line"><span class="undefined">function showRMenu(type, x, y) &#123;</span></span><br><span class="line"><span class="undefined">$("#rMenu ul").show();</span></span><br><span class="line"><span class="undefined">if(type == "root") &#123;</span></span><br><span class="line"><span class="undefined">$("#m_del").hide();</span></span><br><span class="line"><span class="undefined">$("#m_edit").hide();</span></span><br><span class="line"><span class="undefined">$("#m_up").hide();</span></span><br><span class="line"><span class="undefined">$("#m_down").hide();</span></span><br><span class="line"><span class="undefined">$("#m_ulevel").hide();</span></span><br><span class="line"><span class="undefined">$("#m_dlevel").hide();</span></span><br><span class="line"><span class="undefined">$("#m_add").addClass('mboder');</span></span><br><span class="line"><span class="undefined">&#125; else &#123;</span></span><br><span class="line"><span class="undefined">$("#m_del").show();</span></span><br><span class="line"><span class="undefined">$("#m_edit").show();</span></span><br><span class="line"><span class="undefined">$("#m_up").show();</span></span><br><span class="line"><span class="undefined">$("#m_down").show();</span></span><br><span class="line"><span class="undefined">$("#m_add").removeClass('mboder');</span></span><br><span class="line"><span class="undefined">$("#m_ulevel").show();</span></span><br><span class="line"><span class="undefined">$("#m_dlevel").show();</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">$("#rMenu").css(&#123;</span></span><br><span class="line"><span class="undefined">"top": y + "px",</span></span><br><span class="line"><span class="undefined">"left": x + "px",</span></span><br><span class="line"><span class="undefined">"display": "block"</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">$("body").bind("mousedown", onBodyMouseDown);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*隐藏右键面板*/</span></span><br><span class="line"><span class="undefined">function hideRMenu() &#123;</span></span><br><span class="line"><span class="undefined">var rMenu = $("#rMenu");</span></span><br><span class="line"><span class="undefined">if(rMenu) rMenu.css(&#123;</span></span><br><span class="line"><span class="undefined">"display": "none"</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">$("body").unbind("mousedown", onBodyMouseDown);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*单击页面其他位置 隐藏右键面板*/</span></span><br><span class="line"><span class="undefined">function onBodyMouseDown(event) &#123;</span></span><br><span class="line"><span class="undefined">if(!(event.target.id == "rMenu" || $(event.target).parents("#rMenu").length &gt; 0)) &#123;</span></span><br><span class="line"><span class="undefined">$("#rMenu").css(&#123;</span></span><br><span class="line"><span class="undefined">"display": "none"</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*增加节点*/</span></span><br><span class="line"><span class="undefined">function addTreeNode() &#123;</span></span><br><span class="line"><span class="undefined"> var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var name = window.prompt("请输入新增的子节点的名称：");</span></span><br><span class="line"><span class="undefined">if(name == null || name == "")return;</span></span><br><span class="line"><span class="undefined">var newNode = &#123;</span></span><br><span class="line"><span class="undefined">name: name</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">newNode.checked = nowRightClickNode.checked;</span></span><br><span class="line"><span class="undefined">newNode.pid = nowRightClickNode.id;</span></span><br><span class="line"><span class="undefined">zTree.addNodes(nowRightClickNode, newNode);</span></span><br><span class="line"><span class="undefined">/*得到新增加的节点*/</span></span><br><span class="line"><span class="undefined">var node = zTree.getNodeByParam("name", name, null); </span></span><br><span class="line"><span class="undefined">/*选中新增加的节点*/</span></span><br><span class="line"><span class="undefined">zTree.selectNode(node);</span></span><br><span class="line"><span class="undefined">/*让新增加的节点处于编辑状态*/</span></span><br><span class="line"><span class="undefined">zTree.editName(node); </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*编辑节点*/</span></span><br><span class="line"><span class="undefined">function editTreeNode() &#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">/*得到选中节点集合*/</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes(); </span></span><br><span class="line"><span class="undefined">if (nodes &amp;&amp; nodes.length &gt; 0) &#123;</span></span><br><span class="line"><span class="undefined">/*得到选中节点的父节点*/</span></span><br><span class="line"><span class="undefined">var parent = nodes[0].getParentNode(); </span></span><br><span class="line"><span class="undefined">if (parent) &#123;</span></span><br><span class="line"><span class="undefined">/*如果选中节点父节点存在，将当前节点的pid属性值设置为父节点的id*/</span></span><br><span class="line"><span class="undefined">nodes[0].pid = parent.id; </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*让选中节点处于编辑状态*/</span></span><br><span class="line"><span class="undefined">zTree.editName(nodes[0]); </span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*节点编辑状态离开时触发事件 */</span></span><br><span class="line"><span class="undefined">    /*编辑并保存节点（对编辑的检查）*/</span></span><br><span class="line"><span class="undefined">    function beforeRename(treeId, treeNode, newName, isCancel) &#123;</span></span><br><span class="line"><span class="undefined">if (newName.length == 0) &#123; //节点名称判断</span></span><br><span class="line"><span class="undefined">alert("节点名不能为空。");</span></span><br><span class="line"><span class="undefined">return false;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">return true;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*删除节点数据 */</span></span><br><span class="line"><span class="undefined">function removeTreeNode() &#123;</span></span><br><span class="line"><span class="undefined"> var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">if (nodes &amp;&amp; nodes.length &gt; 0) &#123;</span></span><br><span class="line"><span class="undefined">if (nodes[0].children &amp;&amp; nodes[0].children.length &gt; 0) &#123;</span></span><br><span class="line"><span class="undefined">if(window.confirm("包含下级子节点，是否连带删除？"))&#123;</span></span><br><span class="line"><span class="undefined">zTree.removeNode(nodes[0]);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125; else &#123;</span></span><br><span class="line"><span class="undefined">zTree.removeNode(nodes[0]);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined">/*上移*/</span></span><br><span class="line"><span class="undefined">function m_up()&#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">var n = nodes[0];</span></span><br><span class="line"><span class="undefined">if(n &amp;&amp; !n.isFirstNode)&#123;</span></span><br><span class="line"><span class="undefined">zTree.moveNode(n.getPreNode(),n,"prev");</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*下移*/</span></span><br><span class="line"><span class="undefined">function m_down()&#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">var n = nodes[0];</span></span><br><span class="line"><span class="undefined">if(n &amp;&amp; !n.isLastNode)&#123;</span></span><br><span class="line"><span class="undefined">zTree.moveNode(n.getNextNode(),n,"next");</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*重置节点*/</span></span><br><span class="line"><span class="undefined">function resetTree()&#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">if(nodes)checkNNode(zTree , nodes[0])</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*升一级*/</span></span><br><span class="line"><span class="undefined">function uLevel()&#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">var n = nodes[0];</span></span><br><span class="line"><span class="undefined">if(n)&#123;</span></span><br><span class="line"><span class="undefined">zTree.moveNode(n.getParentNode(),n,"next");</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">/*降一级*/</span></span><br><span class="line"><span class="undefined">function dLevel()&#123;</span></span><br><span class="line"><span class="undefined">var zTree = $.fn.zTree.getZTreeObj("treeDemo");</span></span><br><span class="line"><span class="undefined">hideRMenu();</span></span><br><span class="line"><span class="undefined">var nodes = zTree.getSelectedNodes();</span></span><br><span class="line"><span class="undefined">var n = nodes[0];</span></span><br><span class="line"><span class="undefined">if(n)&#123;</span></span><br><span class="line"><span class="undefined">/*默认往下一个节点降*/</span></span><br><span class="line"><span class="undefined">/*zTree.moveNode(n.getNextNode(),n,"inner");*/</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"treeDemo"</span> <span class="attr">style</span>=<span class="string">"background-color: #7EC4CC;"</span> <span class="attr">class</span>=<span class="string">"ztree"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"getCheckedNodes"</span>&gt;</span>获取选中的节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addNode"</span>&gt;</span>添加节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"checkAll"</span>&gt;</span>全选所有节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"checkAllNo"</span>&gt;</span>反选所有节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--自定义的右键弹出面板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rMenu"</span> <span class="attr">style</span>=<span class="string">"z-index:100;position: absolute;background-color: white;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"rMenuUl"</span><span class="attr">onselectstart</span>=<span class="string">"return false;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_add"</span> <span class="attr">onclick</span>=<span class="string">"addTreeNode()"</span>&gt;</span>新增节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_del"</span> <span class="attr">onclick</span>=<span class="string">"removeTreeNode()"</span>&gt;</span>删除节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_edit"</span> <span class="attr">onclick</span>=<span class="string">"editTreeNode()"</span> <span class="attr">style</span>=<span class="string">"border-bottom:1px solid #cecece"</span>&gt;</span>编辑节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_up"</span> <span class="attr">onclick</span>=<span class="string">"m_up()"</span>&gt;</span>上移<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_down"</span> <span class="attr">onclick</span>=<span class="string">"m_down()"</span> <span class="attr">style</span>=<span class="string">"border-bottom:1px solid #cecece"</span>&gt;</span>下移<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_reset"</span> <span class="attr">onclick</span>=<span class="string">"resetTree()"</span>&gt;</span>重置节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_ulevel"</span> <span class="attr">onclick</span>=<span class="string">"uLevel()"</span>&gt;</span>升一级<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"m_dlevel"</span> <span class="attr">onclick</span>=<span class="string">"dLevel()"</span>&gt;</span>降一级<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><hr><p><a href="http://github.ifdream.xin/demo/zTree/zTreeDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/zTree/zTreeDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/zTree/demo.css</span><br><span class="line">http://github.ifdream.xin/css/zTree/zTreeStyle.css</span><br><span class="line">http://github.ifdream.xin/css/zTree/img.zip</span><br><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/zTree/jquery.ztree.all.min.js</span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>zTree插件的功能很强大，官方API也很详细，博主才只是略学了一二，读者应该学不止于此，可以上官方API上看看，再进一步学学，也可以在下面留言，和博主探讨，本文若有不足希望大家能够指出，一起学习，一起进步，谢谢！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;jQuery的插件特别多，前几天博主盯上了zTree，这个有名的jquery树插件，然后通过网上一些别人的资料，以及官方的API，将zTre
      
    
    </summary>
    
      <category term="JQuery插件" scheme="http://github.ymlsfly.xin/categories/JQuery%E6%8F%92%E4%BB%B6/"/>
    
    
      <category term="zTree" scheme="http://github.ymlsfly.xin/tags/zTree/"/>
    
  </entry>
  
  <entry>
    <title>高亮代码的集结</title>
    <link href="http://github.ymlsfly.xin/2018/01/29/%E9%AB%98%E4%BA%AE%E4%BB%A3%E7%A0%81%E7%9A%84%E9%9B%86%E7%BB%93/"/>
    <id>http://github.ymlsfly.xin/2018/01/29/高亮代码的集结/</id>
    <published>2018-01-29T03:23:34.000Z</published>
    <updated>2018-01-29T05:58:33.736Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前因为有需要，就对代码高亮这块儿特别关注了下，然后发现插件有很多，花了一段时间功夫，对各个不同的代码高亮插件都过了一遍，现将其都总结了下。</p><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><h3 id="highlight"><a href="#highlight" class="headerlink" title="highlight"></a>highlight</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>highlightDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--样式可以自己选择，引用不同的样式文件即可--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/highlight/agate.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/highlight/highlight.pack.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">hljs.initHighlightingOnLoad();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段java代码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"java"</span>&gt;</span></span><br><span class="line">public static void main(String []args)&#123;</span><br><span class="line">System.out.println("Hello World");</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段bash命令<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"bash"</span>&gt;</span></span><br><span class="line">cd /tmp</span><br><span class="line">pwd</span><br><span class="line">touch firstTemp</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="prettify"><a href="#prettify" class="headerlink" title="prettify"></a>prettify</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>prettifyDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/prettify/prettify.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/prettify/desert.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.2.1.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/prettify/prettify.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"prettyPrint()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段css代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"prettyprint"</span>&gt;</span></span><br><span class="line">*&#123;</span><br><span class="line">margin : 0 ;</span><br><span class="line">padding : 0 ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段java代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"prettyprint"</span>&gt;</span></span><br><span class="line">public static void main(String []args)&#123;</span><br><span class="line">System.out.println("Hello World");</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="prism"><a href="#prism" class="headerlink" title="prism"></a>prism</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>prismDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/prism/prism.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/prism/prism-line-numbers.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.2.1.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/prism/prism.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/prism/prism-line-numbers.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">$(function()&#123;</span></span><br><span class="line"><span class="undefined">var code = "var data = 1;";</span></span><br><span class="line"><span class="undefined">var html = Prism.highlight(code, Prism.languages.javascript);</span></span><br><span class="line"><span class="undefined">$("#abc").html(html);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段css代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"line-numbers"</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-css"</span>&gt;</span>p &#123; color: red &#125;<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段java代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"line-numbers"</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-java"</span>&gt;</span>public static void main(String []args)&#123;</span><br><span class="line">System.out.println("Hello World");</span><br><span class="line">&#125;<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>动态添加的js代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"abc"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="rainbow"><a href="#rainbow" class="headerlink" title="rainbow"></a>rainbow</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>rainbowDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/rainbow/kimbie-dark.css"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/rainbow/rainbow-custom.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段java代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">data-language</span>=<span class="string">"java"</span>&gt;</span></span><br><span class="line">public static void main(String []args)&#123;</span><br><span class="line">System.out.println("Hello World");</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段css代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span> <span class="attr">data-language</span>=<span class="string">"css"</span>&gt;</span></span><br><span class="line">*&#123;</span><br><span class="line">margin: 0 ;</span><br><span class="line">padding : 0 ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="SyntaxHighlighter"><a href="#SyntaxHighlighter" class="headerlink" title="SyntaxHighlighter"></a>SyntaxHighlighter</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>SyntaxHighlighterDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/SyntaxHighlighter/shCore.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/SyntaxHighlighter/shThemeDefault.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/SyntaxHighlighter/shCore.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--需要哪个语言的就要导入哪个语言的js包shBrushXxx.js，且一定要放在核心包的下面--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/SyntaxHighlighter/shBrushJava.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/SyntaxHighlighter/shBrushCss.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">SyntaxHighlighter.all();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段java代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"brush:java"</span>&gt;</span></span><br><span class="line">public static void main(String []args)&#123;</span><br><span class="line">System.out.println("Hello World");</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一段css代码块儿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">"brush:css"</span>&gt;</span></span><br><span class="line">*&#123;</span><br><span class="line">margin : 0 ;</span><br><span class="line">padding : 0 ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><h3 id="highlight-1"><a href="#highlight-1" class="headerlink" title="highlight"></a>highlight</h3><hr><p><a href="http://github.ifdream.xin/demo/highlight/highlightDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/highlight/highlightDemo.html</a></p><hr><h3 id="prettify-1"><a href="#prettify-1" class="headerlink" title="prettify"></a>prettify</h3><hr><p><a href="http://github.ifdream.xin/demo/prettify/prettifyDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/prettify/prettifyDemo.html</a></p><hr><h3 id="prism-1"><a href="#prism-1" class="headerlink" title="prism"></a>prism</h3><hr><p><a href="http://github.ifdream.xin/demo/prism/prismDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/prism/prismDemo.html</a></p><hr><h3 id="rainbow-1"><a href="#rainbow-1" class="headerlink" title="rainbow"></a>rainbow</h3><hr><p><a href="http://github.ifdream.xin/demo/rainbow/rainbowDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/rainbow/rainbowDemo.html</a></p><hr><h3 id="SyntaxHighlighter-1"><a href="#SyntaxHighlighter-1" class="headerlink" title="SyntaxHighlighter"></a>SyntaxHighlighter</h3><hr><p><a href="http://github.ifdream.xin/demo/SyntaxHighlighter/SyntaxHighlighterDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/SyntaxHighlighter/SyntaxHighlighterDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><h3 id="highlight-2"><a href="#highlight-2" class="headerlink" title="highlight"></a>highlight</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/highlight/default.css</span><br><span class="line">http://github.ifdream.xin/css/highlight/androidstudio.css</span><br><span class="line">http://github.ifdream.xin/css/highlight/agate.css</span><br><span class="line">http://github.ifdream.xin/js/highlight/highlight.pack.js</span><br></pre></td></tr></table></figure><hr><h3 id="prettify-2"><a href="#prettify-2" class="headerlink" title="prettify"></a>prettify</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/prettify/prettify.css</span><br><span class="line">http://github.ifdream.xin/css/prettify/sunburst.css</span><br><span class="line">http://github.ifdream.xin/css/prettify/sons-of-obsidian.css</span><br><span class="line">http://github.ifdream.xin/css/prettify/doxy.css</span><br><span class="line">http://github.ifdream.xin/css/prettify/desert.css</span><br><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/prettify/prettify.js</span><br><span class="line">http://github.ifdream.xin/js/prettify/run_prettify.js</span><br></pre></td></tr></table></figure><hr><h3 id="prism-2"><a href="#prism-2" class="headerlink" title="prism"></a>prism</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/prism/prism.css</span><br><span class="line">http://github.ifdream.xin/css/prism/prism-line-numbers.css</span><br><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/prism/prism.js</span><br><span class="line">http://github.ifdream.xin/js/prism/prism-line-numbers.min.js</span><br></pre></td></tr></table></figure><hr><h3 id="rainbow-2"><a href="#rainbow-2" class="headerlink" title="rainbow"></a>rainbow</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/rainbow/kimbie-light.css</span><br><span class="line">http://github.ifdream.xin/css/rainbow/kimbie-dark.css</span><br><span class="line">http://github.ifdream.xin/js/rainbow-custom.min.js</span><br></pre></td></tr></table></figure><hr><h3 id="SyntaxHighlighter-2"><a href="#SyntaxHighlighter-2" class="headerlink" title="SyntaxHighlighter"></a>SyntaxHighlighter</h3><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/SyntaxHighlighter/css.zip</span><br><span class="line">http://github.ifdream.xin/js/shCore.js</span><br><span class="line">http://github.ifdream.xin/js/shBrushXml.js</span><br><span class="line">http://github.ifdream.xin/js/shBrushJava.js</span><br><span class="line">http://github.ifdream.xin/js/shBrushCss.js</span><br></pre></td></tr></table></figure><hr><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>以上纯属博主自己整理总结，若有纰漏或有错误，欢迎读者留言指出，本博客将定址更新！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;之前因为有需要，就对代码高亮这块儿特别关注了下，然后发现插件有很多，花了一段时间功夫，对各个不同的代码高亮插件都过了一遍，现将其都总结了下。
      
    
    </summary>
    
      <category term="代码高亮" scheme="http://github.ymlsfly.xin/categories/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE/"/>
    
    
      <category term="highCode" scheme="http://github.ymlsfly.xin/tags/highCode/"/>
    
  </entry>
  
  <entry>
    <title>富文本simditor</title>
    <link href="http://github.ymlsfly.xin/2018/01/29/%E5%AF%8C%E6%96%87%E6%9C%ACsimditor/"/>
    <id>http://github.ymlsfly.xin/2018/01/29/富文本simditor/</id>
    <published>2018-01-29T03:00:22.000Z</published>
    <updated>2018-01-29T03:19:03.342Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天博主再添加一个新的富文本编辑器的学习，同样也是一个轻便的插件，简约、高效的simditor。</p><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>simditorDemo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/app.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/mobile.css"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/simditor.css"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/module.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/hotkeys.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/uploader.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/simditor.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">$(function() &#123;</span></span><br><span class="line"><span class="undefined">var editor = new Simditor(&#123;</span></span><br><span class="line"><span class="undefined">textarea: $('#editor'),</span></span><br><span class="line"><span class="undefined">/*（默认值：''）编辑器的 placeholder，如果为空 Simditor 会取 textarea 的 placeholder 属性；*/</span></span><br><span class="line"><span class="undefined">placeholder: "请在这里输入内容：",</span></span><br><span class="line"><span class="undefined">/*（默认值：true）是否显示工具栏按钮；*/</span></span><br><span class="line"><span class="undefined">toolbar: [</span></span><br><span class="line"><span class="undefined">'title',</span></span><br><span class="line"><span class="undefined">'bold',</span></span><br><span class="line"><span class="undefined">'italic',</span></span><br><span class="line"><span class="undefined">'underline',</span></span><br><span class="line"><span class="undefined">'strikethrough',</span></span><br><span class="line"><span class="undefined">'fontScale',</span></span><br><span class="line"><span class="undefined">'color',</span></span><br><span class="line"><span class="undefined">'ol',</span></span><br><span class="line"><span class="undefined">'ul',</span></span><br><span class="line"><span class="undefined">'blockquote',</span></span><br><span class="line"><span class="undefined">'code',</span></span><br><span class="line"><span class="undefined">'table',</span></span><br><span class="line"><span class="undefined">'link',</span></span><br><span class="line"><span class="undefined">'image',</span></span><br><span class="line"><span class="undefined">'hr',</span></span><br><span class="line"><span class="undefined">'indent',</span></span><br><span class="line"><span class="undefined">'outdent',</span></span><br><span class="line"><span class="undefined">'alignment'</span></span><br><span class="line"><span class="undefined">],</span></span><br><span class="line"><span class="undefined">/*（默认值：true）是否让工具栏按钮在页面滚动的过程中始终可见；*/</span></span><br><span class="line"><span class="undefined">toolbarFloat: true,</span></span><br><span class="line"><span class="undefined">/*（默认值：false）是否隐藏工具栏，隐藏后 toolbarFloat 会失效；*/</span></span><br><span class="line"><span class="undefined">toolbarHidden: false,</span></span><br><span class="line"><span class="undefined">/*（默认值：'images/image.png'）编辑器插入混排图片时使用的默认图片；*/</span></span><br><span class="line"><span class="undefined">defaultImage: 'images/image.png',</span></span><br><span class="line"><span class="undefined">/*（默认值：true）是否在编辑器中使用 tab 键来缩进；*/</span></span><br><span class="line"><span class="undefined">tabIndent: true,</span></span><br><span class="line"><span class="undefined">/*（默认值：&#123;&#125;）键值对，在编辑器中增加 hidden 字段（input:hidden），通常用于生成 form 表单的默认参数；*/</span></span><br><span class="line"><span class="undefined">params: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">/*（默认值：false）false 或者键值对，编辑器上传本地图片的配置，常用的属性有 url 和 params；*/</span></span><br><span class="line"><span class="undefined">upload: &#123;</span></span><br><span class="line"><span class="undefined">url: '',</span></span><br><span class="line"><span class="undefined">params: null,</span></span><br><span class="line"><span class="undefined">fileKey: 'upload_file',</span></span><br><span class="line"><span class="undefined">connectionCount: 3,</span></span><br><span class="line"><span class="undefined">leaveConfirm: '上传操作正在进行，您真的要离开本页面？'</span></span><br><span class="line"><span class="undefined">&#125;,</span></span><br><span class="line"><span class="undefined">/*（默认值：false）是否允许粘贴上传图片，依赖 upload 选项，仅支持 Firefox 和 Chrome 浏览器。*/</span></span><br><span class="line"><span class="undefined">pasteImage: true</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 900px; height: 300px; "</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"editor"</span> <span class="attr">placeholder</span>=<span class="string">"Balabala"</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><hr><p><a href="http://github.ifdream.xin/demo/simditor/simditorDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/simditor/simditorDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/simditor/app.css</span><br><span class="line">http://github.ifdream.xin/css/simditor/mobile.css</span><br><span class="line">http://github.ifdream.xin/css/simditor/simditor.css</span><br><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/simditor/hotkeys.js</span><br><span class="line">http://github.ifdream.xin/js/simditor/module.js</span><br><span class="line">http://github.ifdream.xin/js/simditor/simditor.js</span><br><span class="line">http://github.ifdream.xin/js/simditor/uploader.js</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;今天博主再添加一个新的富文本编辑器的学习，同样也是一个轻便的插件，简约、高效的simditor。&lt;/p&gt;
&lt;h2 id=&quot;贴代码&quot;&gt;&lt;a h
      
    
    </summary>
    
      <category term="富文本编辑器" scheme="http://github.ymlsfly.xin/categories/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
    
      <category term="富文本" scheme="http://github.ymlsfly.xin/tags/%E5%AF%8C%E6%96%87%E6%9C%AC/"/>
    
      <category term="simditor" scheme="http://github.ymlsfly.xin/tags/simditor/"/>
    
  </entry>
  
  <entry>
    <title>linux上的tomcat</title>
    <link href="http://github.ymlsfly.xin/2018/01/20/linux%E4%B8%8A%E7%9A%84tomcat/"/>
    <id>http://github.ymlsfly.xin/2018/01/20/linux上的tomcat/</id>
    <published>2018-01-20T05:28:17.000Z</published>
    <updated>2018-02-01T03:05:47.653Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>大家都知道我们在本地机器上安装配置tomcat，可能只是为了开发测试，而真正的用tomcat，是在服务器上，从安全性考虑，服务器一般都是linux，所以我们就要会在linux服务器上安装配置tomcat。</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>这里有个前提条件，就是服务器已经配置了jdk，且环境变量也配置无误，没有安装配置jdk的可以参考博主前面的一篇在linux上配置jdk的文章。这里和安装jdk一样，博主还是将tomcat解压到/software/目录下。</p><h2 id="开放端口"><a href="#开放端口" class="headerlink" title="开放端口"></a>开放端口</h2><p>针对如果开启了防火墙的服务器，需要打开tomcat的监听端口,让外部能访问tomcat，这里仍是使用tomcat的默认监听端口8080.</p><ol><li><p>if firewall</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=8080/tcp --permanent</span><br><span class="line">service firewalld restart</span><br></pre></td></tr></table></figure></li><li><p>if iptables</p></li></ol><ul><li><p>方法一</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -I INPUT -p tcp --dport 8080 -j ACCEPT</span><br><span class="line">service iptables save</span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure></li><li><p>方法二</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/iptables -A INPUT -p tcp -m tcp --dport 8080 -j ACCEPT</span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure></li></ul><h2 id="启动、重启和关闭"><a href="#启动、重启和关闭" class="headerlink" title="启动、重启和关闭"></a>启动、重启和关闭</h2><p>tomcat的启动、重启和关闭其实就是执行tomcat/bin/下的startup.sh、restartup.sh和shutdown.sh文件。</p><p>进入到/software/tomcat/bin目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./startup.sh</span><br><span class="line">./restartup.sh</span><br><span class="line">./shutdown.sh</span><br></pre></td></tr></table></figure></p><h2 id="修改web登录账号"><a href="#修改web登录账号" class="headerlink" title="修改web登录账号"></a>修改web登录账号</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /software/tomcat/conf/tomcat-users.xml</span><br></pre></td></tr></table></figure><p>加上：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-gui"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-script"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-jmx"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-status"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"admin"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"admin-gui"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">"root"</span> <span class="attr">password</span>=<span class="string">"root"</span> <span class="attr">roles</span>=<span class="string">"admin-gui,admin,manager-gui,manager-script,manager-jmx,manager-status,manager"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Tomcat的目录结构</span><br><span class="line">   ·bin     //存放Tomcat的命令脚本文件</span><br><span class="line">   ·conf    //存放Tomcat服务器的各种配置文件,最主要是server.xml</span><br><span class="line">   ·lib     //存放Tomcat服务器支撑jar包</span><br><span class="line">   ·logs    //存放日志文件</span><br><span class="line">   ·temp    //存放临时文件</span><br><span class="line">   ·webapps //web应用所在目录，外界访问web资源的存放目录</span><br><span class="line">   ·work    //Tomcat的工作目录</span><br><span class="line">web应用的目录结构</span><br><span class="line">   webapp                           -- web应用所在目录</span><br><span class="line">     |--- html, jsp, css, js文件等  -- 这些文件一般在web应用根目录下，根目录下的文件外界可以直接访问.</span><br><span class="line">     |--- WEB-INF 目录              -- java类、jar包、web配置文件,存在这个目录下，外界无法直接访问，由web服务器负责调用.</span><br><span class="line">           |--- classes 目录        -- java类</span><br><span class="line">           |--- lib 目录            -- java类运行所需要的jar包</span><br><span class="line">           |--- web.xml 文件        -- web应用的配置文件</span><br></pre></td></tr></table></figure><h2 id="tomcat8-5的问题"><a href="#tomcat8-5的问题" class="headerlink" title="tomcat8.5的问题"></a>tomcat8.5的问题</h2><p>如果你安装的是tomcat8.5，你在进入web页面的manager时，会发现报错进不去：<br>注意：此时上面修改web登录账号的步骤也需要执行（如果web登录账号没修改）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">You are not authorized to view this page.</span><br><span class="line">By default the Host Manager is only accessible from a browser running on the same machine as Tomcat. If you wish to modify this restriction, you&apos;ll need to edit the Host Manager&apos;s context.xml file...</span><br></pre></td></tr></table></figure></p><p>这个问题在tomcat的官网上也有说明，解决方法如下：<br>在tomcat/conf/Catalina/localhost/下新建一个文件manager.xml，写入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim tomcat/conf/Catalina/localhost/manager.xml</span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">privileged</span>=<span class="string">"true"</span> <span class="attr">antiResourceLocking</span>=<span class="string">"false"</span>   </span></span><br><span class="line"><span class="tag">         <span class="attr">docBase</span>=<span class="string">"$&#123;catalina.home&#125;/webapps/manager"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.valves.RemoteAddrValve"</span> <span class="attr">allow</span>=<span class="string">"^.*$"</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure><p>tomcat8.5的host manager进不去，报403错误，解决方法如下：<br>修改tomcat/webapps/host-manager/META-INF/context.xml文件（使之允许所有IP）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim tomcat/webapps/host-manager/META-INF/context.xml</span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">antiResourceLocking</span>=<span class="string">"false"</span> <span class="attr">privileged</span>=<span class="string">"true"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.valves.RemoteAddrValve"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">allow</span>=<span class="string">"^.*$"</span> /&gt;</span> #修改这里</span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip:8080</span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>如果你有想要安装启动多个tomcat，则可以通过修改其监听端口的方法，注意要在防火墙开放监听的端口，还可以通过docker的方法来实现在服务器上启动多个tomcat，这些大家可以参考博主前面的【拥有并启动多个tomcat】和【Docker梦工厂】。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;大家都知道我们在本地机器上安装配置tomcat，可能只是为了开发测试，而真正的用tomcat，是在服务器上，从安全性考虑，服务器一般都是li
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="linux" scheme="http://github.ymlsfly.xin/tags/linux/"/>
    
      <category term="tomcat" scheme="http://github.ymlsfly.xin/tags/tomcat/"/>
    
  </entry>
  
  <entry>
    <title>linux配置jdk</title>
    <link href="http://github.ymlsfly.xin/2018/01/20/linux%E9%85%8D%E7%BD%AEjdk/"/>
    <id>http://github.ymlsfly.xin/2018/01/20/linux配置jdk/</id>
    <published>2018-01-20T05:27:40.000Z</published>
    <updated>2018-01-29T11:20:46.853Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>windows图形化界面，在它上面安装配置软件，一般都下一步下一步就完成了，安装jdk也如此，只是配置环境变量需要在：这台电脑-&gt;属性-&gt;高级系统设置-&gt;环境变量中配置JAVA_HOME和PATH即可。linux命令行界面，让很多人有点小怕，不会配置jdk，其实也并不难，简单几步，跟着博主配置的步骤走，即可完成。</p><h2 id="步骤开始"><a href="#步骤开始" class="headerlink" title="步骤开始"></a>步骤开始</h2><h3 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h3><p>在windows上下载好需要安装的jdk压缩包，通过远程工具传到服务器上，或直接复制下载链接，在服务器上通过wget命令下载。</p><p>这里博主下载的jdk-8u144-linux-x64.tar.gz<br>并将其放在/software/文件夹下</p><h3 id="开始配置"><a href="#开始配置" class="headerlink" title="开始配置"></a>开始配置</h3><p>先执行解压命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /software</span><br><span class="line">tar -xzvf jdk-8u144-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></p><h3 id="环境变量（临时性，及时生效）"><a href="#环境变量（临时性，及时生效）" class="headerlink" title="环境变量（临时性，及时生效）"></a>环境变量（临时性，及时生效）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/software/jdk1.8.0_144</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/jre/lib/rt.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>此处要注意JAVA_HOME的路径，一定是jdk解压包的绝对路径，和windows一样。</p><h3 id="环境变量（永久生效，但不及时生效）"><a href="#环境变量（永久生效，但不及时生效）" class="headerlink" title="环境变量（永久生效，但不及时生效）"></a>环境变量（永久生效，但不及时生效）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把环境变量配置（上面三句话）到profile文件里，放到done后面</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"><span class="comment">#可以执行下面这句命令使该文件立即生效</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><h3 id="检测"><a href="#检测" class="headerlink" title="检测"></a>检测</h3><p>到此，你的服务器上的jdk就配置好了，可以试一下命令【java -version】，服务器会显示出当前环境变量中的java版本。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;windows图形化界面，在它上面安装配置软件，一般都下一步下一步就完成了，安装jdk也如此，只是配置环境变量需要在：这台电脑-&amp;gt;属性
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="linux" scheme="http://github.ymlsfly.xin/tags/linux/"/>
    
      <category term="jdk" scheme="http://github.ymlsfly.xin/tags/jdk/"/>
    
  </entry>
  
  <entry>
    <title>Java设计模式之单例模式</title>
    <link href="http://github.ymlsfly.xin/2018/01/20/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://github.ymlsfly.xin/2018/01/20/Java设计模式之单例模式/</id>
    <published>2018-01-20T05:10:30.000Z</published>
    <updated>2018-01-20T05:24:13.355Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>java设计模式颇多，这里先奉上博主最开始接触学习的一个设计模式，也是其中比较简单的一个设计模式—单例模式。</p><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><ol><li>饿汉式</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Oneoo1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Oneoo1</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Oneoo1 instance=<span class="keyword">new</span> Oneoo1();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Oneoo1 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>懒汉式（饱汉式）</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Oneoo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Oneoo2</span><span class="params">()</span> </span>&#123;  &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Oneoo2 instance;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Oneoo2 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance==<span class="keyword">null</span>) &#123;</span><br><span class="line">            instance=<span class="keyword">new</span> Oneoo2();</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>单例模式特点是内存中存在的始终是同一个对象，饿汉式是子类加载时创建实例对象，懒汉式是在调用时创建。单例模式在jdk底层用得也是蛮多的，在诸多设计模式中相比较简单，容易理解，作为学习设计模式的第一块台阶最好不过了！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;java设计模式颇多，这里先奉上博主最开始接触学习的一个设计模式，也是其中比较简单的一个设计模式—单例模式。&lt;/p&gt;
&lt;h2 id=&quot;贴代码
      
    
    </summary>
    
      <category term="Java设计模式" scheme="http://github.ymlsfly.xin/categories/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="java" scheme="http://github.ymlsfly.xin/tags/java/"/>
    
      <category term="单例" scheme="http://github.ymlsfly.xin/tags/%E5%8D%95%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>富文本wangEditor</title>
    <link href="http://github.ymlsfly.xin/2018/01/19/%E5%AF%8C%E6%96%87%E6%9C%ACwangEditor/"/>
    <id>http://github.ymlsfly.xin/2018/01/19/富文本wangEditor/</id>
    <published>2018-01-19T15:49:08.000Z</published>
    <updated>2018-01-26T01:08:07.700Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>wangEditor</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前面博主已经介绍了富文本编辑器wangEditor，今天就来推荐一款也比较简单的富文本编辑器wangEditor，hhh！</p><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">title</span>&gt;</span>wandEditor<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/wangEditor.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                  .editor2_toolbarClass&#123;</span></span><br><span class="line"><span class="undefined">                        /*这里用id取不出元素，需要额外加class*/</span></span><br><span class="line"><span class="undefined">                        width: 800px;</span></span><br><span class="line"><span class="undefined">                        border: 1px dashed red;</span></span><br><span class="line"><span class="undefined">                        margin-top: 10px;</span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">                  #editor2_text&#123;</span></span><br><span class="line"><span class="undefined">                        margin-top: 10px;</span></span><br><span class="line"><span class="undefined">                        width: 300px;</span></span><br><span class="line"><span class="undefined">                        height: 200px;</span></span><br><span class="line"><span class="undefined">                        border: 2px solid #678;</span></span><br><span class="line"><span class="undefined">                  &#125;</span></span><br><span class="line"><span class="undefined">            </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                  $(function()&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        //window.wangEditor可以共用一个，此处为了方便看，才new了多个</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        //普通地创建一个富文本编辑器</span></span><br><span class="line"><span class="undefined">                        var E1 = window.wangEditor;</span></span><br><span class="line"><span class="undefined">                        var editor1 = new E1("#editor1");</span></span><br><span class="line"><span class="undefined">                    var $textarea1 = $('#textarea1');</span></span><br><span class="line"><span class="undefined">                    editor1.customConfig.onchange = function (html) &#123;</span></span><br><span class="line"><span class="undefined">                        // 监控变化，同步更新到 textarea</span></span><br><span class="line"><span class="undefined">                        $textarea1.val(html)</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    // 关闭粘贴样式的过滤</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.pasteFilterStyle = false;</span></span><br><span class="line"><span class="undefined">                      // 自定义处理粘贴的文本内容</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.pasteTextHandle = function (content) &#123;</span></span><br><span class="line"><span class="undefined">                          // content 即粘贴过来的内容（html 或 纯文本），可进行自定义处理然后返回</span></span><br><span class="line"><span class="undefined">                          return content + '内容在粘贴内容后面追加';</span></span><br><span class="line"><span class="undefined">                      &#125;</span></span><br><span class="line"><span class="undefined">                      //插入网络图片的回调</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.linkImgCallback = function (url) &#123;</span></span><br><span class="line"><span class="undefined">                            console.log(url) // url 即插入图片的地址</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                      //插入链接的校验</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.linkCheck = function (text, link) &#123;</span></span><br><span class="line"><span class="undefined">                            console.log(text) // 插入的文字</span></span><br><span class="line"><span class="undefined">                            console.log(link) // 插入的链接</span></span><br><span class="line"><span class="undefined">                            return true // 返回 true 表示校验成功</span></span><br><span class="line"><span class="undefined">                            // return '验证失败' // 返回字符串，即校验失败的提示信息</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                      //插入网络图片的校验</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.linkImgCheck = function (src) &#123;</span></span><br><span class="line"><span class="undefined">                            console.log(src) // 图片的链接</span></span><br><span class="line"><span class="undefined">                            return true // 返回 true 表示校验成功</span></span><br><span class="line"><span class="undefined">                            // return '验证失败' // 返回字符串，即校验失败的提示信息</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                      // 自定义菜单配置</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.menus = [</span></span><br><span class="line"><span class="undefined">                            'head',  // 标题</span></span><br><span class="line"><span class="undefined">                            'bold',  // 粗体</span></span><br><span class="line"><span class="undefined">                            'italic',  // 斜体</span></span><br><span class="line"><span class="undefined">                            'underline',  // 下划线</span></span><br><span class="line"><span class="undefined">                            'strikeThrough',  // 删除线</span></span><br><span class="line"><span class="undefined">                            'foreColor',  // 文字颜色</span></span><br><span class="line"><span class="undefined">                            'backColor',  // 背景颜色</span></span><br><span class="line"><span class="undefined">                            'link',  // 插入链接</span></span><br><span class="line"><span class="undefined">                            'list',  // 列表</span></span><br><span class="line"><span class="undefined">                            'justify',  // 对齐方式</span></span><br><span class="line"><span class="undefined">                            'quote',  // 引用</span></span><br><span class="line"><span class="undefined">                            'emoticon',  // 表情</span></span><br><span class="line"><span class="undefined">                            'image',  // 插入图片</span></span><br><span class="line"><span class="undefined">                            'table',  // 表格</span></span><br><span class="line"><span class="undefined">                            'video',  // 插入视频</span></span><br><span class="line"><span class="undefined">                            'code',  // 插入代码</span></span><br><span class="line"><span class="undefined">                            'undo',  // 撤销</span></span><br><span class="line"><span class="undefined">                            'redo'  // 重复</span></span><br><span class="line"><span class="undefined">                        ];</span></span><br><span class="line"><span class="undefined">                        // 自定义配置颜色（字体颜色、背景色）</span></span><br><span class="line"><span class="undefined">                      editor1.customConfig.colors = [</span></span><br><span class="line"><span class="undefined">                          '#000000',</span></span><br><span class="line"><span class="undefined">                          '#eeece0',</span></span><br><span class="line"><span class="undefined">                          '#1c487f',</span></span><br><span class="line"><span class="undefined">                          '#4d80bf',</span></span><br><span class="line"><span class="undefined">                          '#c24f4a',</span></span><br><span class="line"><span class="undefined">                          '#8baa4a',</span></span><br><span class="line"><span class="undefined">                          '#7b5ba1',</span></span><br><span class="line"><span class="undefined">                          '#46acc8',</span></span><br><span class="line"><span class="undefined">                          '#f9963b',</span></span><br><span class="line"><span class="undefined">                          '#ffffff'</span></span><br><span class="line"><span class="undefined">                      ];</span></span><br><span class="line"><span class="undefined">                        editor1.create();</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        //注意此功能不能动态改变</span></span><br><span class="line"><span class="undefined">                        // 禁用编辑功能</span></span><br><span class="line"><span class="undefined">                        editor1.$textElem.attr('contenteditable', false);</span></span><br><span class="line"><span class="undefined">                        // 开启编辑功能</span></span><br><span class="line"><span class="undefined">                        editor1.$textElem.attr('contenteditable', true);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        var E2 = window.wangEditor;</span></span><br><span class="line"><span class="undefined">                        // 两个参数也可以传入 elem 对象，class 选择器</span></span><br><span class="line"><span class="undefined">                        var editor2 = new E2("#editor2_toolbar" , "#editor2_text");</span></span><br><span class="line"><span class="undefined">                        editor2.create();</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        $("#htmlEditor1").click(function()&#123;</span></span><br><span class="line"><span class="undefined">                              //直接覆盖掉编辑器里的内容</span></span><br><span class="line"><span class="undefined">                              editor1.txt.html("内容已被格式化...");</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        $("#appendEditor1").click(function()&#123;</span></span><br><span class="line"><span class="undefined">                              //增加的内容必须是标签式的，仅被解析标签</span></span><br><span class="line"><span class="xml">                              editor1.txt.append("<span class="tag">&lt;<span class="name">p</span>&gt;</span>增加的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">'#'</span>&gt;</span>aa<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">'#'</span>&gt;</span>bb<span class="tag">&lt;/<span class="name">a</span>&gt;</span>");</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        $("#getHtmlEditor1").click(function()&#123;</span></span><br><span class="line"><span class="undefined">                              alert("获取Editor1的html：" + editor1.txt.html());</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        $("#getTextEditor1").click(function()&#123;</span></span><br><span class="line"><span class="undefined">                              alert("获取Editor1的text：" + editor1.txt.text());</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">            </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"editor1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"htmlEditor1"</span>&gt;</span>动态给Editor1格式化内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"appendEditor1"</span>&gt;</span>动态给Editor1增加内容<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"getHtmlEditor1"</span>&gt;</span>获取Editor1的html<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"getTextEditor1"</span>&gt;</span>获取Editor1的text<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"editor2_toolbar"</span> <span class="attr">class</span>=<span class="string">"editor2_toolbarClass"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"editor2_text"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"textarea1"</span> <span class="attr">style</span>=<span class="string">"width:100%; height:200px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">      <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><hr><p><a href="http://github.ifdream.xin/demo/wangEditor/wangEditorDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/wangEditor/wangEditorDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/wangEditor/wangEditor.min.js</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;wangEditor&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;
      
    
    </summary>
    
      <category term="富文本编辑器" scheme="http://github.ymlsfly.xin/categories/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
    
      <category term="富文本" scheme="http://github.ymlsfly.xin/tags/%E5%AF%8C%E6%96%87%E6%9C%AC/"/>
    
      <category term="wangEditor" scheme="http://github.ymlsfly.xin/tags/wangEditor/"/>
    
  </entry>
  
  <entry>
    <title>富文本summernote</title>
    <link href="http://github.ymlsfly.xin/2018/01/19/%E5%AF%8C%E6%96%87%E6%9C%ACsummernote/"/>
    <id>http://github.ymlsfly.xin/2018/01/19/富文本summernote/</id>
    <published>2018-01-19T04:49:57.000Z</published>
    <updated>2018-01-26T01:07:54.810Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Summernote</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>爱各种知识的博主对富文本挺感兴趣的，就对富文本编辑器都看了下，学习了下，不咋样，可以用吧，hhh，现将学习的第一个富文本编辑器summernote献上！</p><h2 id="贴代码"><a href="#贴代码" class="headerlink" title="贴代码"></a>贴代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">title</span>&gt;</span>Summernote<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--引入需要的css文件--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/bootstrap.css"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/summernote.css"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--引入需要的js文件--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/bootstrap.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/summernote.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"lang/summernote-zh-CN.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--预备富文本1--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"summernote"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--预备富文本2--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"reply"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--各种点击事件的按钮--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"save"</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addContent"</span>&gt;</span>添加内容/编辑<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"showRichtext"</span>&gt;</span>点击显示富文本框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"dialog_fide"</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--预备被动态显示内容的块儿--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                  /***对富文本中的内容提取过滤并操作 */</span></span><br><span class="line"><span class="undefined">                  $("#reply").summernote(&#123;</span></span><br><span class="line"><span class="undefined">                        width : 500 ,  //宽度</span></span><br><span class="line"><span class="undefined">                        height: 100,  //高度</span></span><br><span class="line"><span class="undefined">                        toolbar: false,  //工具栏不显示</span></span><br><span class="line"><span class="undefined">                        placeholder: '可以@人...' , //无内容输入时显示的文本</span></span><br><span class="line"><span class="undefined">                        minHeight : 100 ,  //可拉伸最小高度</span></span><br><span class="line"><span class="undefined">                        maxHeight : 100,  //可拉伸最大高度</span></span><br><span class="line"><span class="undefined">                        hint: &#123;  //输入内容时的监听</span></span><br><span class="line"><span class="undefined">                              mentions: ['jayden', 'sam', 'alvin', 'david'],  //验证的词库</span></span><br><span class="line"><span class="undefined">                              match: /\B@(\w*)$/,  //匹配的目标</span></span><br><span class="line"><span class="undefined">                              search: function(keyword, callback) &#123; //目标被匹配到了时的回调</span></span><br><span class="line"><span class="undefined">                                    callback($.grep(this.mentions, function(item) &#123;</span></span><br><span class="line"><span class="undefined">                                          return item.indexOf(keyword) == 0;</span></span><br><span class="line"><span class="undefined">                                    &#125;));</span></span><br><span class="line"><span class="undefined">                              &#125;,</span></span><br><span class="line"><span class="undefined">                              content: function(item) &#123;  //返回的内容</span></span><br><span class="line"><span class="undefined">                                    return '@' + item;</span></span><br><span class="line"><span class="undefined">                              &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">                  /*** 得到富文本当中的内容*/</span></span><br><span class="line"><span class="undefined">                  $("#save").click(function() &#123;</span></span><br><span class="line"><span class="undefined">                        var markupStr = $('#summernote').summernote('code');</span></span><br><span class="line"><span class="undefined">                        alert("获取富文本中的内容：" + markupStr);</span></span><br><span class="line"><span class="undefined">                        /*在下方div=content当中显示输入的内容*/</span></span><br><span class="line"><span class="undefined">                        $("#content").html(markupStr);</span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">                  /*** 向富文本当中添加内容 * */</span></span><br><span class="line"><span class="undefined">                  $("#addContent").click(function() &#123;</span></span><br><span class="line"><span class="undefined">                        var markupStr = '向富文本中添加内容';</span></span><br><span class="line"><span class="undefined">                        $('#summernote').summernote('code', markupStr);</span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">                  /***点击显示富文本框，需要 将上面富文本初始化代码注释掉*/</span></span><br><span class="line"><span class="undefined">                  $("#showRichtext").click(function() &#123;</span></span><br><span class="line"><span class="undefined">                        $('#summernote').summernote(&#123;</span></span><br><span class="line"><span class="undefined">                              dialogsInBody: true ,</span></span><br><span class="line"><span class="undefined">                              minHeight : 100 ,</span></span><br><span class="line"><span class="undefined">                              maxHeight : 200,</span></span><br><span class="line"><span class="undefined">                              lang :'zh-CN' ,  //指定工具栏的语言包</span></span><br><span class="line"><span class="undefined">                              placeholder : 'placeholder'  //无输入时显示的内容</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">                  /***点击显示富文本框，需要 将上面富文本初始化代码注释掉*/</span></span><br><span class="line"><span class="undefined">                  $("#dialog_fide").click(function() &#123;</span></span><br><span class="line"><span class="undefined">                        $('#summernote').summernote(&#123;</span></span><br><span class="line"><span class="undefined">                              dialogsFade: true // Add fade effect on dialogs</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        var markupStr = '初始化富文本就向文本中写入内容';</span></span><br><span class="line"><span class="undefined">                        $('#summernote').summernote('code', markupStr);</span></span><br><span class="line"><span class="undefined">                  &#125;);</span></span><br><span class="line"><span class="undefined">                   /***销毁指定的富文本*/</span></span><br><span class="line"><span class="undefined">                   $('#summernote').summernote('destroy');</span></span><br><span class="line"><span class="undefined">            </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><hr><p><a href="http://github.ifdream.xin/demo/summernote/summernoteDemo.html" target="_blank" rel="noopener">http://github.ifdream.xin/demo/summernote/summernoteDemo.html</a></p><hr><h2 id="资源文件链接"><a href="#资源文件链接" class="headerlink" title="资源文件链接"></a>资源文件链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://github.ifdream.xin/css/bootstrap/bootstrap.css</span><br><span class="line">http://github.ifdream.xin/css/summernote/summernote.css</span><br><span class="line">http://github.ifdream.xin/js/jquery.min.js</span><br><span class="line">http://github.ifdream.xin/js/bootstrap/bootstrap.js</span><br><span class="line">http://github.ifdream.xin/js/summernote/summernote.js</span><br><span class="line">http://github.ifdream.xin/js/summernote/summernote-zh-CN.js</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Summernote&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;
      
    
    </summary>
    
      <category term="富文本编辑器" scheme="http://github.ymlsfly.xin/categories/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
    
      <category term="富文本" scheme="http://github.ymlsfly.xin/tags/%E5%AF%8C%E6%96%87%E6%9C%AC/"/>
    
      <category term="summernote" scheme="http://github.ymlsfly.xin/tags/summernote/"/>
    
  </entry>
  
  <entry>
    <title>剑指jdbc</title>
    <link href="http://github.ymlsfly.xin/2018/01/18/%E5%89%91%E6%8C%87jdbc/"/>
    <id>http://github.ymlsfly.xin/2018/01/18/剑指jdbc/</id>
    <published>2018-01-18T12:52:42.000Z</published>
    <updated>2018-01-18T13:31:37.692Z</updated>
    
    <content type="html"><![CDATA[<h3 id="各数据库的驱动及url"><a href="#各数据库的驱动及url" class="headerlink" title="各数据库的驱动及url"></a>各数据库的驱动及url</h3><h4 id="mysql数据库"><a href="#mysql数据库" class="headerlink" title="mysql数据库"></a>mysql数据库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">驱动 ：com.mysql.jdbc.Driver</span><br><span class="line">url : jdbc:mysql://IP地址:3306/数据库名</span><br><span class="line">jar : mysql-connector-java-5.1.25.jar</span><br></pre></td></tr></table></figure><h4 id="sqlserver数据库"><a href="#sqlserver数据库" class="headerlink" title="sqlserver数据库"></a>sqlserver数据库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">驱动 ： com.microsoft.jdbc.sqlserver.SQLServerDriver</span><br><span class="line">url : jdbc:microsoft:sqlserver://IP地址:1433;DatabaseName=数据库名</span><br><span class="line">jar : sqljdbc*.jar</span><br></pre></td></tr></table></figure><h4 id="oracle数据库"><a href="#oracle数据库" class="headerlink" title="oracle数据库"></a>oracle数据库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">驱动 ：oracle.jdbc.driver.OracleDriver</span><br><span class="line">url : jdbc:oracle:thin://IP地址:1521:数据库名</span><br><span class="line">jar : ojdbc-**.jar</span><br></pre></td></tr></table></figure><h3 id="署上博主封装的jdbcDao"><a href="#署上博主封装的jdbcDao" class="headerlink" title="署上博主封装的jdbcDao"></a>署上博主封装的jdbcDao</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseDAO</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String JDBC_DRIVER = <span class="string">"驱动"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL = <span class="string">"url"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String USER = <span class="string">"用户名"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PASSWD = <span class="string">"密码"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Connection conn = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Statement st = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> PreparedStatement pst = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span>.<span class="title">forName</span>(<span class="title">JDBC_DRIVER</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获得数据库连接</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Connection <span class="title">getConn</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">conn = DriverManager.getConnection(URL, USER, PASSWD);</span><br><span class="line">conn.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Statement <span class="title">getStatement</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">st = getConn().createStatement();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> st;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> PreparedStatement <span class="title">getPrepareStatement</span><span class="params">(String sql)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">pst = getConn().prepareStatement(sql);</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pst;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">conn.commit();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rollback</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">conn.rollback();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (st != <span class="keyword">null</span>)</span><br><span class="line">st.close();</span><br><span class="line"><span class="keyword">if</span> (pst != <span class="keyword">null</span>)</span><br><span class="line">pst.close();</span><br><span class="line"><span class="keyword">if</span> (conn != <span class="keyword">null</span>)</span><br><span class="line">conn.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(ResultSet rs)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (rs != <span class="keyword">null</span>)</span><br><span class="line">rs.close();</span><br><span class="line"><span class="keyword">if</span> (st != <span class="keyword">null</span>)</span><br><span class="line">st.close();</span><br><span class="line"><span class="keyword">if</span> (pst != <span class="keyword">null</span>)</span><br><span class="line">pst.close();</span><br><span class="line"><span class="keyword">if</span> (conn != <span class="keyword">null</span>)</span><br><span class="line">conn.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="致言"><a href="#致言" class="headerlink" title="致言"></a>致言</h3><p>现在做项目基本上都是用框架，博主封装的DAO仅供参考学习，也欢迎大家提出宝贵的意见！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;各数据库的驱动及url&quot;&gt;&lt;a href=&quot;#各数据库的驱动及url&quot; class=&quot;headerlink&quot; title=&quot;各数据库的驱动及url&quot;&gt;&lt;/a&gt;各数据库的驱动及url&lt;/h3&gt;&lt;h4 id=&quot;mysql数据库&quot;&gt;&lt;a href=&quot;#mysql数据库&quot;
      
    
    </summary>
    
      <category term="数据库" scheme="http://github.ymlsfly.xin/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="jdbc" scheme="http://github.ymlsfly.xin/tags/jdbc/"/>
    
      <category term="数据库" scheme="http://github.ymlsfly.xin/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>拥有并启动多个Tomcat</title>
    <link href="http://github.ymlsfly.xin/2018/01/18/%E6%8B%A5%E6%9C%89%E5%B9%B6%E5%90%AF%E5%8A%A8%E5%A4%9A%E4%B8%AATomcat/"/>
    <id>http://github.ymlsfly.xin/2018/01/18/拥有并启动多个Tomcat/</id>
    <published>2018-01-18T12:07:37.000Z</published>
    <updated>2018-01-19T16:13:45.896Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Tomcat</p></blockquote><p> tomcat，俗称tom猫，我们作为javaweb开发者，标准的程序猿，怎么可能会少了它呢。之前博主就有那么一个需求，想在电脑上使用不同版本的tomcat，而且可以同时启动，互不影响，这个需要占用端口的server可并不那么easy，博主倒腾了半天，终于成功了。</p><h2 id="windows上的多个tomcat"><a href="#windows上的多个tomcat" class="headerlink" title="windows上的多个tomcat"></a>windows上的多个tomcat</h2><h3 id="前提准备"><a href="#前提准备" class="headerlink" title="前提准备"></a>前提准备</h3><p>首先你得有多个版本的tomcat，直接去tomcat官网下载即可，此处博主用tomcat7.0和tomcat8.5两个来演示，如果有需求，你可以照葫芦画瓢安装部署更多。</p><h3 id="showtime"><a href="#showtime" class="headerlink" title="showtime"></a>showtime</h3><h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME7.0  =  D:\tomcat7.0</span><br><span class="line">CATALIAN_BASE7.0  =  D:\tomcat7.0</span><br><span class="line"></span><br><span class="line">CATALINA_HOME8.5  =  D:\tomcat8.5</span><br><span class="line">CATALINA_BASE8.5  =  D:\tomcat8.5</span><br></pre></td></tr></table></figure><p>此案例中，博主的tomcat7.0和tomcat8.5均放在D盘根目录。</p><h4 id="文件配置修改"><a href="#文件配置修改" class="headerlink" title="文件配置修改"></a>文件配置修改</h4><ol><li><p>此时在tomcat7.0文件夹中  </p><ul><li><p>修改startup.bat文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME-&gt;CATALINA_HOME7.0</span><br></pre></td></tr></table></figure></li><li><p>修改catalina.bat文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME-&gt;CATALINA_HOME7.0</span><br><span class="line">CATALINA_BASE-&gt;CATALINA_BASE7.0</span><br></pre></td></tr></table></figure><p>它的端口监听不改变，表示当启动它时仍让它监听8080端口。</p></li></ul></li><li><p>此时在tomcat8.5文件夹中  </p><ul><li><p>修改startup.bat文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME-&gt;CATALINA_HOME8.5</span><br></pre></td></tr></table></figure></li><li><p>修改catalina.bat文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME-&gt;CATALINA_HOME8.5</span><br><span class="line">CATALINA_BASE-&gt;CATALINA_BASE8.5</span><br></pre></td></tr></table></figure><p>上面已经说了8080端口留给tomcat7.0监听了，故此时需要修改tomcat8.5的监听端口：<br>修改server.conf文件：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//找到下面这段</span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8009"</span>  <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Server</span> <span class="attr">port</span>=<span class="string">"8005"</span> <span class="attr">shutdown</span>=<span class="string">"SHUTDOWN"</span>&gt;</span></span><br><span class="line">//修改为：</span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8088"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8089"</span>  <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Server</span> <span class="attr">port</span>=<span class="string">"8085"</span> <span class="attr">shutdown</span>=<span class="string">"SHUTDOWN"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此时即将tomcat8.5的启动监听端口指定为了8088，再同时启动也不会有冲突了。</p></li></ul></li></ol><h3 id="linux上安装配置多个tomcat"><a href="#linux上安装配置多个tomcat" class="headerlink" title="linux上安装配置多个tomcat"></a>linux上安装配置多个tomcat</h3><p>我们想在linux上部署多个tomcat，最简单的方法便是利用docker了，这个神器必须得用，前面已有一篇博客对docker有了很详细的讲解，这里就不详细说明了。你可以启动多个docker容器，每个里面启动的不同的tomcat，然后将里面的8080端口映射成宿主服务器的不同端口即可，此时就相当于宿主服务器部署启动了多个监听不同端口的tomcat了。这个案例刚好可以展现出docker的一番魅力了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Tomcat&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt; tomcat，俗称tom猫，我们作为javaweb开发者，标准的程序猿，怎么可能会少了它呢。之前博主就有那么一个需求，想在电脑上使用不同版本
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="server" scheme="http://github.ymlsfly.xin/tags/server/"/>
    
      <category term="tomcat" scheme="http://github.ymlsfly.xin/tags/tomcat/"/>
    
      <category term="工具" scheme="http://github.ymlsfly.xin/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>mantis的学习</title>
    <link href="http://github.ymlsfly.xin/2018/01/18/mantis%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <id>http://github.ymlsfly.xin/2018/01/18/mantis的学习/</id>
    <published>2018-01-18T04:38:57.000Z</published>
    <updated>2018-01-18T12:14:06.837Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Mantis</p></blockquote><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="基本概述"><a href="#基本概述" class="headerlink" title="基本概述"></a>基本概述</h3><p>缺陷管理平台Mantis，也叫做MantisBT，全称Mantis Bug Tracker。它是一个基于PHP技术的轻量级的开源缺陷跟踪系统，以web操作的形式提供项目管理以及缺陷跟踪服务。所谓缺陷跟踪系统，它主要完成对缺陷报告的记录、分析和状态更新管理。</p><h3 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h3><p>（1）个人可定制的Email通知功能，每个用户可根据自身的工作特点只订阅相关缺陷状态邮件；<br>（2）支持多项目、多语言；<br>（3）权限设置灵活，不同角色有不同权限，每个项目可设为公开或私有状态，每个缺陷可设为公开或私有状态，每个缺陷可以在不同项目间移动；<br>（4）主页可发布项目相关新闻，方便信息传播；<br>（5）具有方便的缺陷关联功能，除重复缺陷外，每个缺陷都可以链接到其他相关缺陷；<br>（6）缺陷报告可打印或输出为CSV格式，1.1.7版：支持可定制的报表输出，可定制用户输入域；<br>（7）有各种缺陷趋势图和柱状图，为项目状态分析提供依据，如果不能满足要求，可以把数据输出到Excel中进一步分析；<br>（8）流程定制方便且符合标准，满足一般的缺陷跟踪。</p><h2 id="安装配置"><a href="#安装配置" class="headerlink" title="安装配置"></a>安装配置</h2><h3 id="Windows环境下Xampp-mantis"><a href="#Windows环境下Xampp-mantis" class="headerlink" title="Windows环境下Xampp+mantis"></a>Windows环境下Xampp+mantis</h3><h4 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h4><ol><li>将下载好的mantis解压放在D:\xampp\htdocs文件夹下<br>在浏览器中输入<br><a href="http://localhost/mantis/" target="_blank" rel="noopener">http://localhost/mantis/</a><br>或<br><a href="http://localhost:800/mantis" target="_blank" rel="noopener">http://localhost:800/mantis</a>  (xampp的Apache修改了端口号)</li><li>点击 Install/Upgrade Database<br>文本框中默认信息不动<br>在“Password (for Database)”输入刚修改的ROOT密码。<br>“Admin Username (to create Database if required)”输入root，<br>“Admin Password (to create Database if required)”输入ROOT密码，如123456。<br>点击“Install/Upgrade Database”进行安装。<br>安装完成后，右侧标签全为绿色GOOD。</li><li>再次在地址栏中输入<a href="http://localhost/mantis（或http://localhost:800/mantis" target="_blank" rel="noopener">http://localhost/mantis（或http://localhost:800/mantis</a>  xampp的Apache端口修改了） 进入Mantis登录页面。<br>初始用户名为“administrator”，密码为“root”， Mantis安装完成。安装完成后要删除mantis目录下的admin文件夹！</li><li>汉化<br>打开安装目录\xampp\htdocs\mantis\config_defaults_inc.php文件，<br>修改$g_default_language  = ‘english’; 为$g_default_language  = ‘chinese_simplified’;</li><li>时间设置<br>使用个人账户登录系统后，可在【个人资料】-&gt;【更改个人设置】，在“时区”选项中选择”shanghai”。此种方法需要每个账户自行修改。</li></ol><h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h4><p>新建账户时无法设置账户登录密码。<br>在Mantis目录下config_defaults_inc.php文件中找到$g_send_reset_password，然后设置：$g_send_reset_password =OFF  即可。<br>重新使用administrator账号及密码，登录mantis, 依次选择 管理 -&gt; 用户管理 -&gt; “创建用户”， 即可看到填写密码的输入框。</p><h4 id="可能的错误"><a href="#可能的错误" class="headerlink" title="可能的错误"></a>可能的错误</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">安装时出现错误</span><br><span class="line">Schema CreateTableSQL ( mantis_config_table )</span><br><span class="line"></span><br><span class="line">BAD</span><br><span class="line">CREATE TABLE mantis_config_table ( config_id VARCHAR(64) NOT NULL, project_id INTEGER NOT NULL DEFAULT 0, user_id INTEGER NOT NULL DEFAULT 0, access_reqd INTEGER DEFAULT 0, type INTEGER DEFAULT 90, value LONGTEXT NOT NULL, PRIMARY KEY (config_id, project_id, user_id) )ENGINE=MyISAM DEFAULT CHARSET=utf8</span><br><span class="line">Table &apos;mantis_config_table&apos; already exist</span><br><span class="line">登录时出现错误</span><br><span class="line">APPLICATION ERROR #401 </span><br><span class="line">Database query failed. Error received from database was #1054: Unknown column &apos;priority&apos; in &apos;field list&apos; for the query: SELECT basename, priority, protected FROM mantis_plugin_table WHERE enabled=? ORDER BY priority DESC.</span><br><span class="line"></span><br><span class="line">Please use the &quot;Back&quot; button in your web browser to return to the previous page. There you can correct whatever problems were identified in this error or select another action. You can also click an option from the menu bar to go directly to a new section.</span><br><span class="line">分析解决：</span><br><span class="line">    数据库中有相关的表，可能重复点击进入了（login_page.php和install.php）</span><br><span class="line">    1.进入mysql中清理干净相关的表再装。2.删除mantis包重新复制进去安装。</span><br></pre></td></tr></table></figure><h3 id="linux环境下安装（Apache-mantis）"><a href="#linux环境下安装（Apache-mantis）" class="headerlink" title="linux环境下安装（Apache+mantis）"></a>linux环境下安装（Apache+mantis）</h3><h4 id="准备工作："><a href="#准备工作：" class="headerlink" title="准备工作："></a>准备工作：</h4><p>可以现在windows下下载好mantis的tar压缩包，然后通过远程传输到linux服务器上。<br>或直接在服务器上下载：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://sourceforge.net/projects/mantisbt/files/mantis-stable/1.2.15/mantisbt-1.2.15.tar.gz/download</span><br></pre></td></tr></table></figure></p><p>在linux上进入到放mantis压缩包的目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf mantisbt-1.2.15-tar</span><br></pre></td></tr></table></figure></p><p>将解压完的文件夹改名为mantis，并将其移到apache下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv mantisbt-1.2.15 /var/www/html/mantis</span><br></pre></td></tr></table></figure></p><p>对mantis文件夹进行赋权限，然后进入该文件夹下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 /var/www/html/mantis</span><br><span class="line"><span class="built_in">cd</span> /var/www/html/mantis</span><br></pre></td></tr></table></figure></p><p>复制出mantis配置文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp config_inc.php.sample config_inc.php</span><br></pre></td></tr></table></figure></p><h4 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h4><p>打开网址安装mantis自动生成数据库：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip/mantis/admin/install.php//输入框按实际的填</span><br></pre></td></tr></table></figure></p><h4 id="配置参数"><a href="#配置参数" class="headerlink" title="配置参数"></a>配置参数</h4><p>修改mantis配置文件（配置数据库参数）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim config_inc.php</span><br><span class="line">//修改以下参数（主机名、用户名、密码、数据库名、数据库种类）</span><br><span class="line"><span class="variable">$g_hostname</span>      = <span class="string">'localhost'</span>;</span><br><span class="line"><span class="variable">$g_db_username</span>   = <span class="string">'mantisdbuser'</span>;</span><br><span class="line"><span class="variable">$g_db_password</span>   = <span class="string">''</span>;</span><br><span class="line"><span class="variable">$g_database_name</span> = <span class="string">'bugtracker'</span>;</span><br><span class="line"><span class="variable">$g_db_type</span>       = <span class="string">'mysql'</span>;</span><br></pre></td></tr></table></figure></p><p>删除mantis下的admin文件夹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf admin/</span><br></pre></td></tr></table></figure></p><p>修改语言：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim config_defaults_inc.php</span><br><span class="line"><span class="variable">$g_default_language</span>  = <span class="string">'english'</span>; 为<span class="variable">$g_default_language</span>  = <span class="string">'chinese_simplified'</span>;</span><br></pre></td></tr></table></figure></p><p>网址栏打开mentis会有如下警告<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">You should disable the default &apos;administrator&apos; account or change its password.</span><br></pre></td></tr></table></figure></p><p>此时默认的登录用户是administrator，密码是root，登录上去将密码修改即可，再无此警告。</p><h3 id="可能出现的警告处理"><a href="#可能出现的警告处理" class="headerlink" title="可能出现的警告处理"></a>可能出现的警告处理</h3><h4 id="php版本不一致"><a href="#php版本不一致" class="headerlink" title="php版本不一致"></a>php版本不一致</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SYSTEM WARNING: <span class="string">'mysqli_real_connect(): Headers and client library minor version mismatch. Headers:50556 Library:50637'</span> in <span class="string">'/var/www/html/mantis/library/adodb/drivers/adodb-mysqli.inc.php'</span> line <span class="number">110</span></span><br></pre></td></tr></table></figure><p>在服务器上执行以下命令查看mysql相关版本：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">php -i | grep Client</span><br><span class="line">Client API version =&gt; 5.6.38</span><br><span class="line">Client API library version =&gt; 5.6.38</span><br><span class="line">Client API header version =&gt; 5.5.56-MariaDB</span><br><span class="line">Client API version =&gt; 5.6.38</span><br><span class="line">Soap Client =&gt; enabled</span><br></pre></td></tr></table></figure></p><p>可以发现版本不一致…<br>解决方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum remove -y php-mysql</span><br><span class="line">yum install -y php-mysqlnd</span><br></pre></td></tr></table></figure></p><p>将php里支持的php-mysql换成了php-mysqlnd<br>再次查看：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">php -i | grep Client</span><br><span class="line">Client API version =&gt; mysqlnd 5.0.10 - 20111026 - <span class="variable">$Id</span>: e707c415db32080b3752b232487a435ee0372157 $</span><br><span class="line">Client API library version =&gt; mysqlnd 5.0.10 - 20111026 - <span class="variable">$Id</span>: e707c415db32080b3752b232487a435ee0372157 $</span><br><span class="line">Client API version =&gt; mysqlnd 5.0.10 - 20111026 - <span class="variable">$Id</span>: e707c415db32080b3752b232487a435ee0372157 $</span><br><span class="line">Soap Client =&gt; enabled</span><br></pre></td></tr></table></figure></p><p>可以发现此时版本一致了…<br>最后记得要重启服务：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure></p><h4 id="php的date未修改"><a href="#php的date未修改" class="headerlink" title="php的date未修改"></a>php的date未修改</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SYSTEM WARNING: <span class="string">'date_default_timezone_get(): It is not safe to rely on the system'</span>s timezone settings. You are *required* to <span class="keyword">use</span> <span class="title">the</span> <span class="title">date</span>.<span class="title">timezone</span> <span class="title">setting</span> <span class="title">or</span> <span class="title">the</span> <span class="title">date_default_timezone_set</span>() <span class="title">function</span>. <span class="title">In</span> <span class="title">case</span> <span class="title">you</span> <span class="title">used</span> <span class="title">any</span> <span class="title">of</span> <span class="title">those</span> <span class="title">methods</span> <span class="title">and</span> <span class="title">you</span> <span class="title">are</span> <span class="title">still</span> <span class="title">getting</span> <span class="title">this</span> <span class="title">warning</span>, <span class="title">you</span> <span class="title">most</span> <span class="title">likely</span> <span class="title">misspelled</span> <span class="title">the</span> <span class="title">timezone</span> <span class="title">identifier</span>. <span class="title">We</span> <span class="title">selected</span> <span class="title">the</span> <span class="title">timezone</span> '<span class="title">UTC</span>' <span class="title">for</span> <span class="title">now</span>, <span class="title">but</span> <span class="title">please</span> <span class="title">set</span> <span class="title">date</span>.<span class="title">timezone</span> <span class="title">to</span> <span class="title">select</span> <span class="title">your</span> <span class="title">timezone</span>.' <span class="title">in</span> '/<span class="title">var</span>/<span class="title">www</span>/<span class="title">html</span>/<span class="title">mantis</span>/<span class="title">core</span>.<span class="title">php</span>' <span class="title">line</span> 254</span><br></pre></td></tr></table></figure><p>解决方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/php.ini</span><br><span class="line">//找到<span class="comment">#date.timezone =修改如下：</span></span><br><span class="line">date.timezone =<span class="string">"Asia/Shanghai"</span></span><br><span class="line">//最后记得重启服务</span><br><span class="line">systemctl restart httpd</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Mantis&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;h3 id=
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="mantis" scheme="http://github.ymlsfly.xin/tags/mantis/"/>
    
      <category term="测试" scheme="http://github.ymlsfly.xin/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="工具" scheme="http://github.ymlsfly.xin/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>testlink的学习</title>
    <link href="http://github.ymlsfly.xin/2018/01/18/testlink%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <id>http://github.ymlsfly.xin/2018/01/18/testlink的学习/</id>
    <published>2018-01-18T01:02:06.000Z</published>
    <updated>2018-01-18T12:13:34.195Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>TestLink</p></blockquote><p>是基于web的测试用例管理系统，主要功能是测试用例的创建、管理和执行，并且还提供了一些简单的统计功能。</p><p>testlink这类工具一般都用于在服务器端，所以博主偏重讲下linux下的testlink的安装配置。</p><h2 id="Windows-xampp安装配置testlink"><a href="#Windows-xampp安装配置testlink" class="headerlink" title="Windows+xampp安装配置testlink"></a>Windows+xampp安装配置testlink</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol><li>从网上下载testlink的压缩包，将安装包解压，放到xampp的htdocs目录下，改名为testlink。</li><li><p>启动Apache，浏览器打开testlink，点击New installation，选择协议，点击下一步：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip/testlink</span><br></pre></td></tr></table></figure></li><li><p>continue然后配置mysql，安装成功，登录testlink，默认用户名/密码为admin/admin</p></li></ol><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>中间配置可能会有警告，对其安装并没有影响，如果有需要可以修改篇配置来消掉警告。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Maximun Session Idle Time before Timeout ：shot.consider to extend</span><br><span class="line">//配置文件中找到对应值调大</span><br><span class="line">Checking max.execution time(Parameter max_execution_time) 30 seconds –we suggest 120 seconds in order to manage hundred of test cases</span><br><span class="line">//配置文件中找到对应值调大</span><br><span class="line">Checking maximal allowed memory (Parameter memory_limit) </span><br><span class="line">//配置文件中找到对应值调大</span><br></pre></td></tr></table></figure></p><h2 id="linux-Apache安装配置testlink"><a href="#linux-Apache安装配置testlink" class="headerlink" title="linux+Apache安装配置testlink"></a>linux+Apache安装配置testlink</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><ol><li><p>在服务器上直接下载testlink压缩包，或在Windows上通过远程工具将下载好的testlink压缩包传到服务器。也可以在服务器上直接通过wget命令下载。</p></li><li><p>解压，然后将其移至Apache工作目录/var/www/html/文件夹下，重命名为testlink：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf testlink-1.9.14.tar.gz</span><br><span class="line">mv testlink-1.9.14 /var/www/html/testlink</span><br></pre></td></tr></table></figure></li><li><p>在浏览器打开<a href="http://ip/testlink" target="_blank" rel="noopener">http://ip/testlink</a><br><img src="https://raw.githubusercontent.com/1139195320/imgs/8b908968111c3b8292200570a420089d0185eef3/testlink/1.png" alt=""><br><img src="https://raw.githubusercontent.com/1139195320/imgs/8b908968111c3b8292200570a420089d0185eef3/testlink/2.png" alt=""></p></li><li>警告和错误信息处理：（操作后都必须要重启Apache）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">警告信息：</span><br><span class="line">Maximum Session Idle Time before Timeout</span><br><span class="line">24 minutes and 0 seconds - (Short. Consider to exten</span><br><span class="line">d.)</span><br><span class="line">解决：修改php.ini文件</span><br><span class="line">session.gc_maxlifetime = 3600</span><br><span class="line"></span><br><span class="line">警告信息：</span><br><span class="line">Checking max. execution time (Parameter max_execution_time)</span><br><span class="line">30 seconds - We suggest 120 seconds in order to manage hundred of test cases (edit php.ini)</span><br><span class="line">解决：</span><br><span class="line">修改php.ini文件</span><br><span class="line">max_execution_time = 12Checking LDAP libraryFailed! LDAP library not enabled. LDAP authentication cannot be used. (default internal authentication will works)</span><br><span class="line"></span><br><span class="line">警告信息：Checking if /var/testlink/logs/ directory exists [S]</span><br><span class="line">Failed!</span><br><span class="line">Checking if /var/testlink/upload_area/ directory exists [S]</span><br><span class="line">解决：</span><br><span class="line">修改/testlink/config_inc.php文件</span><br><span class="line">log_path = &apos;/var/www/html/testlink/logs/&apos;;</span><br><span class="line">$g_repositoryPath = &apos;/var/www/html/testlink/upload_area/&apos;;</span><br><span class="line">然后检查/var/www/html/testlink/下是否有logs文件夹和upload_area文件夹，没有则创建。</span><br><span class="line">检查这两个文件夹的权限，均赋权777</span><br><span class="line">chmod 777 logs/</span><br><span class="line">chmod 777 upload_area/</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://raw.githubusercontent.com/1139195320/imgs/8b908968111c3b8292200570a420089d0185eef3/testlink/3.png" alt=""></p><ol><li>在浏览器中直接输入地址访问登录：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip/testlink/</span><br></pre></td></tr></table></figure></li></ol><p>默认登录账号/密码为：admin/admin</p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><img src="https://raw.githubusercontent.com/1139195320/imgs/8b908968111c3b8292200570a420089d0185eef3/testlink/4.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">警告信息：</span><br><span class="line">There are security warnings for your consideration. See details on file: C:/xampp/htdocs/testlink/logs/config_check.txt. To disable any reference to these checkings, set $tlCfg-&gt;config_check_warning_mode = &apos;SILENT&apos;;</span><br><span class="line">解决：</span><br><span class="line">vim /var/www/html/testlink/config.inc.php</span><br><span class="line">将$tlCfg-&gt;config_check_warning_mode = &apos;FILE&apos;;修改为：</span><br><span class="line">$tlCfg-&gt;config_check_warning_mode = &apos;SILENT&apos;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;TestLink&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;是基于web的测试用例管理系统，主要功能是测试用例的创建、管理和执行，并且还提供了一些简单的统计功能。&lt;/p&gt;
&lt;p&gt;testlink这类
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="测试" scheme="http://github.ymlsfly.xin/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="工具" scheme="http://github.ymlsfly.xin/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="testlink" scheme="http://github.ymlsfly.xin/tags/testlink/"/>
    
  </entry>
  
  <entry>
    <title>Docker梦工厂</title>
    <link href="http://github.ymlsfly.xin/2018/01/17/Docker%E6%A2%A6%E5%B7%A5%E5%8E%82/"/>
    <id>http://github.ymlsfly.xin/2018/01/17/Docker梦工厂/</id>
    <published>2018-01-17T12:39:23.000Z</published>
    <updated>2018-01-17T13:26:38.526Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Docker</p></blockquote><h2 id="小述Docker"><a href="#小述Docker" class="headerlink" title="小述Docker"></a>小述Docker</h2><p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。</p><h2 id="Centos7下部署Docker"><a href="#Centos7下部署Docker" class="headerlink" title="Centos7下部署Docker"></a>Centos7下部署Docker</h2><h3 id="docker安装"><a href="#docker安装" class="headerlink" title="docker安装"></a>docker安装</h3><ol><li><p>首先检查内核版本，要求必须要在3.10+</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></table></figure></li><li><p>确保yum是最新的（可以忽略此步）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure></li><li><p>添加docker于yum仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tee /etc/yum.repos.d/docker.repo &lt;&lt;-<span class="string">'EOF'</span></span><br><span class="line">[dockerrepo]</span><br><span class="line">name=Docker Repository</span><br><span class="line">baseurl=https://yum.dockerproject.org/repo/main/centos/<span class="variable">$releasever</span>/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://yum.dockerproject.org/gpg</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>安装docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y docker-engine</span><br></pre></td></tr></table></figure></li></ol><h3 id="启动验证"><a href="#启动验证" class="headerlink" title="启动验证"></a>启动验证</h3><p>启动/重启/停止的命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure></p><p>验证<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br><span class="line"></span><br><span class="line">Client:</span><br><span class="line">Version:      17.05.0-ce</span><br><span class="line">API version:  1.29</span><br><span class="line">Go version:   go1.7.5</span><br><span class="line">Git commit:   89658be</span><br><span class="line">Built:        Thu May  4 22:06:25 2017</span><br><span class="line">OS/Arch:      linux/amd64</span><br><span class="line">Server:</span><br><span class="line">Version:      17.05.0-ce</span><br><span class="line">API version:  1.29 (minimum version 1.12)</span><br><span class="line">Go version:   go1.7.5</span><br><span class="line">Git commit:   89658be</span><br><span class="line">Built:        Thu May  4 22:06:25 2017</span><br><span class="line">OS/Arch:      linux/amd64</span><br><span class="line">Experimental: <span class="literal">false</span></span><br></pre></td></tr></table></figure></p><h3 id="镜像管理"><a href="#镜像管理" class="headerlink" title="镜像管理"></a>镜像管理</h3><p>启动docker后可以查看此时拥有的镜像源：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image</span><br></pre></td></tr></table></figure></p><ol><li><p>下载拉取镜像源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//例：拉取tomcat镜像</span><br><span class="line">docker pull hub.c.163.com/library/tomcat:latest</span><br></pre></td></tr></table></figure></li><li><p>修改镜像名和标签</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag hub.c.163.com/library/tomcat:latest tomcat:v8.5</span><br></pre></td></tr></table></figure></li><li><p>删除原来的镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi -f hub.c.163.com/library/tomcat:latest</span><br></pre></td></tr></table></figure></li><li><p>将该服务在后台运行起来（并指定由服务器58080端口对其映射）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 58080:8080 tomcat:v8.5</span><br></pre></td></tr></table></figure></li><li><p>查看</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//查看运行中的容器信息</span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure></li></ol><p>此时在浏览器即可访问此时运行的tomcat了，并且是在我们指定的58080端口：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ip:58080</span><br></pre></td></tr></table></figure></p><h2 id="与docker的亲密接触"><a href="#与docker的亲密接触" class="headerlink" title="与docker的亲密接触"></a>与docker的亲密接触</h2><h3 id="日常命令"><a href="#日常命令" class="headerlink" title="日常命令"></a>日常命令</h3><ol><li><p>登录（登出）一个Docker镜像仓库，如未指定仓库地址，默认为官方仓库Docker Hub</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker login [option] [server]</span><br><span class="line">docker <span class="built_in">logout</span> [option] [server]</span><br><span class="line">//例：</span><br><span class="line">docker login -u 用户名 -p 密码</span><br></pre></td></tr></table></figure></li><li><p>从Docker Hub中查找镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker search [option] team</span><br><span class="line">--automated :只列出 automated build类型的镜像；</span><br><span class="line">--no-trunc :显示完整的镜像描述；</span><br><span class="line">-s :列出收藏数不小于指定值的镜像。</span><br></pre></td></tr></table></figure></li><li><p>将本地镜像上传到镜像仓库（必须先登录）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker push [options] name[:tag]</span><br><span class="line">    --<span class="built_in">disable</span>-content-trust 忽略镜像的校验，默认开启</span><br></pre></td></tr></table></figure></li><li><p>从镜像仓库中拉取或更新指定仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull [options] name[:tag|@digest]</span><br></pre></td></tr></table></figure></li><li><p>列出本地镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images [options] [repository[:tag]]</span><br></pre></td></tr></table></figure></li><li><p>删除一个或多个本地镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rmi [options] image [image ...]</span><br><span class="line">    -f 强制删除</span><br><span class="line">    --no-prune 不移除该镜像的过程镜像，默认移除</span><br></pre></td></tr></table></figure></li><li><p>标记本地镜像，将其归入某一仓库（修改镜像名）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag [options] image[:tag] name[:tag]</span><br></pre></td></tr></table></figure></li><li><p>使用Dockerfile创建镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker build [options] path | url | -</span><br><span class="line">    -f 指定要使用的Dockerfile的路径</span><br><span class="line">    -m 设置内存最大值</span><br><span class="line">    -q 安静模式，成功后只输出镜像ID</span><br><span class="line">    --rm 设置镜像成功后删除中间容器</span><br><span class="line">//例：</span><br><span class="line">docker build -t /fy/tomcat:v8.5 .</span><br></pre></td></tr></table></figure></li><li><p>查看指定镜像的创建历史</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">history</span> [options] image</span><br></pre></td></tr></table></figure></li><li><p>将指定镜像保存成tar归档文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save [options] image [image ...]</span><br><span class="line">    -o 输出到的文件</span><br></pre></td></tr></table></figure></li><li><p>从归档文件中创建镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker import [options] file|url|- [repository[:tag]]</span><br><span class="line">    -c 应用docker指令创建镜像</span><br><span class="line">    -m 提交时的说明文字</span><br><span class="line">//例：</span><br><span class="line">docker import abc.tar fy/tomcat:v8.5</span><br></pre></td></tr></table></figure></li><li><p>创建一个新的容器但不启动</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker create [options] image [<span class="built_in">command</span>] [arg ...]</span><br></pre></td></tr></table></figure></li><li><p>创建一个新的容器并运行一个命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">docker run [options] image [<span class="built_in">command</span>] [arg ...]</span><br><span class="line">    -d: 后台运行容器，并返回容器ID；</span><br><span class="line">    -i: 以交互模式运行容器，通常与 -t 同时使用；</span><br><span class="line">    -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class="line">    --name=<span class="string">"nginx-lb"</span>: 为容器指定一个名称；</span><br><span class="line">    --dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；</span><br><span class="line">    --dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；</span><br><span class="line">    -h <span class="string">"mars"</span>: 指定容器的hostname；</span><br><span class="line">    -e username=<span class="string">"ritchie"</span>: 设置环境变量；</span><br><span class="line">    --env-file=[]: 从指定文件读入环境变量；</span><br><span class="line">    --cpuset=<span class="string">"0-2"</span> or --cpuset=<span class="string">"0,1,2"</span>: 绑定容器到指定CPU运行；</span><br><span class="line">    -m :设置容器使用内存最大值；</span><br><span class="line">    --net=<span class="string">"bridge"</span>: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；</span><br><span class="line">    --link=[]: 添加链接到另一个容器；</span><br><span class="line">    --expose=[]: 开放一个端口或一组端口</span><br><span class="line">    -p：指定映射端口 服务器端口:容器端口</span><br><span class="line">    -P：系统自动为其分配映射端口</span><br></pre></td></tr></table></figure></li><li><p>杀掉一个运行中的容器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">kill</span> [options] container [container ...]</span><br><span class="line">    -s 向容器发送一个信号</span><br></pre></td></tr></table></figure></li><li><p>删除一个或多少容器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker rm [options] container [container ...]</span><br><span class="line">    -f 通过SIGKILL信号强制删除一个运行中的容器</span><br><span class="line">    -l 移除容器间的网络连接，而非容器本身（后接连接名，不是容器名）</span><br><span class="line">    -v 删除容器和与容器相关联的卷</span><br></pre></td></tr></table></figure></li><li><p>暂停/恢复容器中的所有进程</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pause [options] container [container ...]</span><br><span class="line">docker unpause [options] container [container ...]</span><br></pre></td></tr></table></figure></li><li><p>在运行的容器中执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> [options] container <span class="built_in">command</span> [arg ...]</span><br><span class="line">    -d :分离模式: 在后台运行</span><br><span class="line">    -i :即使没有附加也保持STDIN 打开</span><br><span class="line">    -t :分配一个伪终端</span><br><span class="line">//例：在容器<span class="built_in">test</span>中以交互模式执行容器内的/root/run.sh脚本</span><br><span class="line">docker <span class="built_in">exec</span> -ti <span class="built_in">test</span> /bin/sh /root/run.sh</span><br><span class="line">//例：在容器<span class="built_in">test</span>中开启一个交互模式的终端（即进入<span class="built_in">test</span>容器）</span><br><span class="line">docker <span class="built_in">exec</span> -ti <span class="built_in">test</span> /bin/bash</span><br></pre></td></tr></table></figure></li><li><p>列出容器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker ps [options]</span><br><span class="line">    -a :显示所有的容器，包括未运行的。</span><br><span class="line">    -f :根据条件过滤显示的内容。</span><br><span class="line">    --format :指定返回值的模板文件。</span><br><span class="line">    -l :显示最近创建的容器。</span><br><span class="line">    -n :列出最近创建的n个容器。</span><br><span class="line">    --no-trunc :不截断输出。</span><br><span class="line">    -q :静默模式，只显示容器编号。</span><br><span class="line">    -s :显示总的文件大小。</span><br></pre></td></tr></table></figure></li><li><p>获取容器/镜像的元数据</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker inspect [options] name|id [name|id ...]</span><br><span class="line">    -f :指定返回值的模板文件。</span><br><span class="line">    -s :显示总的文件大小。</span><br><span class="line">    --<span class="built_in">type</span> :为指定类型返回JSON。</span><br></pre></td></tr></table></figure></li><li><p>查看容器中运行的进程信息，支持ps命令参数</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker top [options] container [ps options]</span><br></pre></td></tr></table></figure></li><li><p>从服务器获取实时事件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker events [options]</span><br><span class="line">    -f ：根据条件过滤事件；</span><br><span class="line">    --since ：从指定的时间戳后显示所有事件;</span><br><span class="line">    --until ：流水时间显示到指定的时间为止；</span><br></pre></td></tr></table></figure></li><li><p>获取容器的日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker logs [options] container</span><br><span class="line">    -f : 跟踪日志输出</span><br><span class="line">    --since :显示某个开始时间的所有日志</span><br><span class="line">    -t : 显示时间戳</span><br><span class="line">    --tail :仅列出最新N条容器日志</span><br></pre></td></tr></table></figure></li><li><p>阻塞运行直到停止，最后打印它的退出代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">wait</span> [options] container [container ...]</span><br></pre></td></tr></table></figure></li><li><p>从容器创建一个新的镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker commit [options] container [repository[:tag]]</span><br><span class="line">    -a :提交的镜像作者；</span><br><span class="line">    -c :使用Dockerfile指令来创建镜像；</span><br><span class="line">    -m :提交时的说明文字；</span><br><span class="line">    -p :在commit时，将容器暂停。</span><br></pre></td></tr></table></figure></li><li><p>容器与主机之间的数据拷贝</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker cp [options] container:src_path dest_path</span><br><span class="line">docker cp [options] src_path container:dest_path</span><br><span class="line">    -L 保持源目标中的链接</span><br></pre></td></tr></table></figure></li><li><p>检查容器里文件结构的更改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker diff [options] container</span><br></pre></td></tr></table></figure></li></ol><h3 id="额外需求"><a href="#额外需求" class="headerlink" title="额外需求"></a>额外需求</h3><h4 id="给普通用户添加使用docker的权限"><a href="#给普通用户添加使用docker的权限" class="headerlink" title="给普通用户添加使用docker的权限"></a>给普通用户添加使用docker的权限</h4><p>这样普通就可以使用docker命令而无需root权限。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">usermod -a -G docker 用户名</span><br><span class="line">systemctl restart docker</span><br><span class="line">注意：该用户需要重新登录才生效</span><br></pre></td></tr></table></figure></p><h4 id="制作自己的镜像"><a href="#制作自己的镜像" class="headerlink" title="制作自己的镜像"></a>制作自己的镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">//此例为tomcat7.0</span><br><span class="line">//新建tomcat7.0的母文件夹</span><br><span class="line">mkdir dockerfile_tomcat7.0-2</span><br><span class="line">//将tomcat7.0和jdk1.7移入该文件夹</span><br><span class="line">cp tomcat7.0 dockerfile_tomcat7.0-2/tomcat7.0</span><br><span class="line">cp jdk1.7 dockerfile_tomcat7.0-2/jdk1.7</span><br><span class="line"><span class="built_in">cd</span> dockerfile_tomcat7.0-2</span><br><span class="line">//创建编辑Dockerfile文件</span><br><span class="line">vim Dockerfile</span><br><span class="line">//以下为Dockerfile文件内容-&gt;开始</span><br><span class="line"><span class="comment">#使用基础镜像centos:7.2（此镜像已拉取下来）</span></span><br><span class="line">FROM centos:v7.2</span><br><span class="line"><span class="comment">#指定镜像创建者信息</span></span><br><span class="line">MAINTAINER fy</span><br><span class="line"><span class="comment">#切换镜像的目录，进入/usr目录（基础镜像是一个linux系统，可参照linux查看相应目录）</span></span><br><span class="line">WORKDIR /usr</span><br><span class="line"><span class="comment">#在/usr/下创建java目录，用来存放jdk</span></span><br><span class="line">RUN mkdir java</span><br><span class="line"><span class="comment">#切换镜像的目录至/usr/java</span></span><br><span class="line">WORKDIR /usr/java</span><br><span class="line"><span class="comment">#在/usr/java下创建jdk目录，用来存放jdk文件</span></span><br><span class="line">RUN mkdir jdk</span><br><span class="line"><span class="comment">#切换镜像的目录至/usr/java/jdk</span></span><br><span class="line">WORKDIR /usr/java/jdk</span><br><span class="line"><span class="comment">#将宿主机的jdk1.7目录下的全部文件考入至镜像的/usr/java/jdk目录下</span></span><br><span class="line">ADD jdk1.7 /usr/java/jdk</span><br><span class="line"><span class="comment">#切换镜像的目录至/opt</span></span><br><span class="line">WORKDIR /opt</span><br><span class="line"><span class="comment">#在/opt下创建tomcat目录，用来存放tomcat文件</span></span><br><span class="line">RUN mkdir tomcat</span><br><span class="line"><span class="comment">#将宿主机的tomcat7.0目录下的全部文件考入至镜像的/opt/tomcat目录下</span></span><br><span class="line">ADD tomcat7.0 /opt/tomcat</span><br><span class="line"><span class="comment">#设置环境变量</span></span><br><span class="line">ENV JAVA_HOME=/usr/java/jdk</span><br><span class="line">ENV JAVA_BIN=/usr/java/jdk/bin</span><br><span class="line">ENV PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line">ENV CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"><span class="comment">#设置容器启动时执行的操作</span></span><br><span class="line"></span><br><span class="line">CMD /opt/tomcat/bin/catalina.sh run</span><br><span class="line">//以上为Dockerfile文件的内容-&gt;结束</span><br><span class="line">//产生镜像</span><br><span class="line">docker build -t tomcat:v7.0-2 .</span><br><span class="line">//此时可以查看</span><br><span class="line">docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE</span><br><span class="line">tomcat              v7.0-2              5a9f994d6a14        About a minute ago   845MB</span><br><span class="line">//启动该tomcat（如果要看启动错误，就不要加-d后台参数）</span><br><span class="line">docker run -d -p 48080:8080 tomcat:v7.0-2</span><br></pre></td></tr></table></figure><p>报错解决：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">报错：在启动tomcat（./startup.sh）如果报</span><br><span class="line">-bash: ./startup.sh: Permission denied</span><br><span class="line">解决：解决（进入tomcat的bin目录赋权限）</span><br><span class="line">chmod u+x *.s</span><br><span class="line">报错：在启动时如果报</span><br><span class="line">The APR based Apache Tomcat Native library <span class="built_in">which</span> allows optimal</span><br><span class="line">解决：解决（下载tcnative-1.dll，放到tocat的bin目录下）</span><br><span class="line">wget http://tomcat.heanet.ie/native/1.1.12/binaries/win32/tcnative-1.dll</span><br></pre></td></tr></table></figure></p><h3 id="Dockerfile详解"><a href="#Dockerfile详解" class="headerlink" title="Dockerfile详解"></a>Dockerfile详解</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line">常用：</span><br><span class="line">FROM：base镜像</span><br><span class="line">RUN：执行命令</span><br><span class="line">ADD：添加文件</span><br><span class="line">COPY：拷贝文件</span><br><span class="line">CMD：执行命令</span><br><span class="line">EXPOSE：暴露端口</span><br><span class="line">WORKDIR：指定路径</span><br><span class="line">MAINTAINER：维护者（作者）</span><br><span class="line">ENV：设定环境变量</span><br><span class="line">ENTRYPORT：容器入口</span><br><span class="line">USER：指定用户</span><br><span class="line">VOLUME：mount point</span><br><span class="line"></span><br><span class="line">命令详解：</span><br><span class="line">FROM</span><br><span class="line">功能为指定基础镜像，并且必须是第一条指令。</span><br><span class="line">如果不以任何镜像为基础，那么写法为：FROM scratch。</span><br><span class="line">同时意味着接下来所写的指令将作为镜像的第一层开始</span><br><span class="line">语法：</span><br><span class="line">FROM <span class="tag">&lt;<span class="name">image</span>&gt;</span></span><br><span class="line">FROM <span class="tag">&lt;<span class="name">image</span>&gt;</span>:<span class="tag">&lt;<span class="name">tag</span>&gt;</span></span><br><span class="line">FROM <span class="tag">&lt;<span class="name">image</span>&gt;</span>:<span class="tag">&lt;<span class="name">digest</span>&gt;</span></span><br><span class="line">三种写法，其中<span class="tag">&lt;<span class="name">tag</span>&gt;</span>和<span class="tag">&lt;<span class="name">digest</span>&gt;</span> 是可选项，如果没有选择，那么默认值为latest</span><br><span class="line">RUN</span><br><span class="line"> 功能为运行指定的命令</span><br><span class="line">RUN命令有两种格式</span><br><span class="line">1. RUN <span class="tag">&lt;<span class="name">command</span>&gt;</span></span><br><span class="line">2. RUN ["executable", "param1", "param2"]</span><br><span class="line">第一种后边直接跟shell命令</span><br><span class="line"></span><br><span class="line">* 在linux操作系统上默认 /bin/sh -c</span><br><span class="line">* 在windows操作系统上默认 cmd /S /C</span><br><span class="line"></span><br><span class="line">第二种是类似于函数调用。</span><br><span class="line">可将executable理解成为可执行文件，后面就是两个参数。</span><br><span class="line">两种写法比对：</span><br><span class="line"></span><br><span class="line">* RUN /bin/bash -c 'source $HOME/.bashrc; echo $HOME</span><br><span class="line">* RUN ["/bin/bash", "-c", "echo hello"]</span><br><span class="line"></span><br><span class="line">注意：多行命令不要写多个RUN，原因是Dockerfile中每一个指令都会建立一层.</span><br><span class="line"> 多少个RUN就构建了多少层镜像，会造成镜像的臃肿、多层，不仅仅增加了构件部署的时间，还容易出错。</span><br><span class="line">RUN书写时的换行符是\</span><br><span class="line">CMD</span><br><span class="line">功能为容器启动时要运行的命令</span><br><span class="line">语法有三种写法</span><br><span class="line">1. CMD ["executable","param1","param2"]</span><br><span class="line">2. CMD ["param1","param2"]</span><br><span class="line">3. CMD command param1 param2</span><br><span class="line">第三种比较好理解了，就时shell这种执行方式和写法</span><br><span class="line">第一种和第二种其实都是可执行文件加上参数的形式</span><br><span class="line">举例说明两种写法：</span><br><span class="line"></span><br><span class="line">* CMD [ "sh", "-c", "echo $HOME"</span><br><span class="line">* CMD [ "echo", "$HOME" ]</span><br><span class="line"></span><br><span class="line">补充细节：这里边包括参数的一定要用双引号，就是",不能是单引号。千万不能写成单引号。</span><br><span class="line">原因是参数传递后，docker解析的是一个JSON array</span><br><span class="line">RUN &amp; CMD</span><br><span class="line">不要把RUN和CMD搞混了。</span><br><span class="line">RUN是构件容器时就运行的命令以及提交运行结果</span><br><span class="line">CMD是容器启动时执行的命令，在构件时并不运行，构件时紧紧指定了这个命令到底是个什么样子</span><br><span class="line">LABEL</span><br><span class="line">功能是为镜像指定标签</span><br><span class="line">语法：</span><br><span class="line">LABEL <span class="tag">&lt;<span class="name">key</span>&gt;</span>=<span class="tag">&lt;<span class="name">value</span>&gt;</span> <span class="tag">&lt;<span class="name">key</span>&gt;</span>=<span class="tag">&lt;<span class="name">value</span>&gt;</span> <span class="tag">&lt;<span class="name">key</span>&gt;</span>=<span class="tag">&lt;<span class="name">value</span>&gt;</span> ...</span><br><span class="line"> 一个Dockerfile中可以有多个LABEL，如下：</span><br><span class="line">LABEL "com.example.vendor"="ACME Incorporated"</span><br><span class="line">LABEL com.example.label-with-value="foo"</span><br><span class="line">LABEL version="1.0"</span><br><span class="line">LABEL description="This text illustrates \</span><br><span class="line">that label-values can span multiple lines."</span><br><span class="line"> 但是并不建议这样写，最好就写成一行，如太长需要换行的话则使用\符号</span><br><span class="line">如下：</span><br><span class="line">LABEL multi.label1="value1" \</span><br><span class="line">multi.label2="value2" \</span><br><span class="line">other="value3"</span><br><span class="line">说明：LABEL会继承基础镜像种的LABEL，如遇到key相同，则值覆盖</span><br><span class="line">MAINTAINER</span><br><span class="line">指定作者</span><br><span class="line">语法：</span><br><span class="line">MAINTAINER <span class="tag">&lt;<span class="name">name</span>&gt;</span></span><br><span class="line">EXPOSE</span><br><span class="line">功能为暴露容器运行时的监听端口给外部</span><br><span class="line">但是EXPOSE并不会使容器访问主机的端口</span><br><span class="line">如果想使得容器与主机的端口有映射关系，必须在容器启动的时候加上 -P参数</span><br><span class="line">ENV</span><br><span class="line">功能为设置环境变量</span><br><span class="line">语法有两种</span><br><span class="line">1. ENV <span class="tag">&lt;<span class="name">key</span>&gt;</span> <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">2. ENV <span class="tag">&lt;<span class="name">key</span>&gt;</span>=<span class="tag">&lt;<span class="name">value</span>&gt;</span> ...</span><br><span class="line">两者的区别就是第一种是一次设置一个，第二种是一次设置多个</span><br><span class="line">ADD</span><br><span class="line"> 一个复制命令，把文件复制到镜像中。</span><br><span class="line">如果把虚拟机与容器想象成两台linux服务器的话，那么这个命令就类似于scp，只是scp需要加用户名和密码的权限验证，而ADD不用。</span><br><span class="line">语法如下：</span><br><span class="line">1. ADD <span class="tag">&lt;<span class="name">src</span>&gt;</span>... <span class="tag">&lt;<span class="name">dest</span>&gt;</span></span><br><span class="line">2. ADD ["<span class="tag">&lt;<span class="name">src</span>&gt;</span>",... "<span class="tag">&lt;<span class="name">dest</span>&gt;</span>"]</span><br><span class="line"><span class="tag">&lt;<span class="name">dest</span>&gt;</span>路径的填写可以是容器内的绝对路径，也可以是相对于工作目录的相对路径</span><br><span class="line"><span class="tag">&lt;<span class="name">src</span>&gt;</span>可以是一个本地文件或者是一个本地压缩文件，还可以是一个url</span><br><span class="line">如果把<span class="tag">&lt;<span class="name">src</span>&gt;</span>写成一个url，那么ADD就类似于wget命令</span><br><span class="line">如以下写法都是可以的：</span><br><span class="line"></span><br><span class="line">* ADD test relativeDir/</span><br><span class="line">* ADD test /relativeDir</span><br><span class="line">* ADD http://example.com/foobar /</span><br><span class="line"></span><br><span class="line">尽量不要把<span class="tag">&lt;<span class="name">scr</span>&gt;</span>写成一个文件夹，如果<span class="tag">&lt;<span class="name">src</span>&gt;</span>是一个文件夹了，复制整个目录的内容,包括文件系统元数据</span><br><span class="line">COPY</span><br><span class="line">又是一个复制命令</span><br><span class="line">语法如下：</span><br><span class="line">1. COPY <span class="tag">&lt;<span class="name">src</span>&gt;</span>... <span class="tag">&lt;<span class="name">dest</span>&gt;</span></span><br><span class="line">2. COPY ["<span class="tag">&lt;<span class="name">src</span>&gt;</span>",... "<span class="tag">&lt;<span class="name">dest</span>&gt;</span>"]</span><br><span class="line">与ADD的区别</span><br><span class="line">COPY的<span class="tag">&lt;<span class="name">src</span>&gt;</span>只能是本地文件，其他用法一致</span><br><span class="line">ENTRYPOINT</span><br><span class="line">功能是启动时的默认命令</span><br><span class="line">语法如下：</span><br><span class="line">1. ENTRYPOINT ["executable", "param1", "param2"]</span><br><span class="line">2. ENTRYPOINT command param1 param2</span><br><span class="line">第二种就是写shell</span><br><span class="line">第一种就是可执行文件加参数</span><br><span class="line">与CMD比较说明（这俩命令太像了，而且还可以配合使用）：</span><br><span class="line">1. 相同点：</span><br><span class="line"></span><br><span class="line">* 只能写一条，如果写了多条，那么只有最后一条生效</span><br><span class="line">* 容器启动时才运行，运行时机相同</span><br><span class="line"></span><br><span class="line">2. 不同点：</span><br><span class="line"></span><br><span class="line">*  ENTRYPOINT不会被运行的command覆盖，而CMD则会被覆盖</span><br><span class="line">*  如果我们在Dockerfile种同时写了ENTRYPOINT和CMD，并且CMD指令不是一个完整的可执行命令，那么CMD指定的内容将会作为ENTRYPOINT的参数</span><br><span class="line"></span><br><span class="line">如下：</span><br><span class="line">FROM ubuntu</span><br><span class="line">ENTRYPOINT ["top", "-b"]</span><br><span class="line">CMD ["-c"]</span><br><span class="line"></span><br><span class="line">* 如果我们在Dockerfile种同时写了ENTRYPOINT和CMD，并且CMD是一个完整的指令，那么它们两个会互相覆盖，谁在最后谁生效</span><br><span class="line"></span><br><span class="line">如下：</span><br><span class="line">FROM ubuntu</span><br><span class="line">ENTRYPOINT ["top", "-b"]</span><br><span class="line">CMD ls -al</span><br><span class="line">那么将执行ls -al ,top -b不会执行。</span><br><span class="line">VOLUME</span><br><span class="line">可实现挂载功能，可以将内地文件夹或者其他容器中的文件夹挂在到这个容器中</span><br><span class="line">语法为：</span><br><span class="line">VOLUME ["/data"] </span><br><span class="line">说明：</span><br><span class="line">   ["/data"]可以是一个JsonArray ，也可以是多个值。所以如下几种写法都是正确的</span><br><span class="line">VOLUME ["/var/log/"]</span><br><span class="line">VOLUME /var/log</span><br><span class="line">VOLUME /var/log /var/db</span><br><span class="line">一般的使用场景为需要持久化存储数据时</span><br><span class="line">容器使用的是AUFS，这种文件系统不能持久化数据，当容器关闭后，所有的更改都会丢失。</span><br><span class="line">所以当数据需要持久化时用这个命令。</span><br><span class="line">USER</span><br><span class="line">设置启动容器的用户，可以是用户名或UID，所以，只有下面的两种写法是正确的</span><br><span class="line"></span><br><span class="line">* USER daemo</span><br><span class="line">* USER UID</span><br><span class="line"></span><br><span class="line">注意：如果设置了容器以daemon用户去运行，那么RUN, CMD 和 ENTRYPOINT 都会以这个用户去运行</span><br><span class="line">WORKDIR</span><br><span class="line">语法：</span><br><span class="line">WORKDIR /path/to/workdir</span><br><span class="line">设置工作目录，对RUN,CMD,ENTRYPOINT,COPY,ADD生效。如果不存在则会创建，也可以设置多次。</span><br><span class="line">如：</span><br><span class="line">WORKDIR /a</span><br><span class="line">WORKDIR b</span><br><span class="line">WORKDIR c</span><br><span class="line">RUN pwd</span><br><span class="line">pwd执行的结果是/a/b/c</span><br><span class="line">WORKDIR也可以解析环境变量</span><br><span class="line">如：</span><br><span class="line">ENV DIRPATH /path</span><br><span class="line">WORKDIR $DIRPATH/$DIRNAME</span><br><span class="line">RUN pwd</span><br><span class="line">pwd的执行结果是/path/$DIRNAME</span><br><span class="line">ARG</span><br><span class="line">语法：</span><br><span class="line">ARG <span class="tag">&lt;<span class="name">name</span>&gt;</span>[=<span class="tag">&lt;<span class="name">default</span> <span class="attr">value</span>&gt;</span>]</span><br><span class="line">设置变量命令，ARG命令定义了一个变量，在docker build创建镜像的时候，使用 --build-arg <span class="tag">&lt;<span class="name">varname</span>&gt;</span>=<span class="tag">&lt;<span class="name">value</span>&gt;</span>来指定参数</span><br><span class="line">如果用户在build镜像时指定了一个参数没有定义在Dockerfile中，那么将有一个Warning</span><br><span class="line">提示如下：</span><br><span class="line">[Warning] One or more build-args [foo] were not consumed.</span><br><span class="line">我们可以定义一个或多个参数，如下：</span><br><span class="line">FROM busybox</span><br><span class="line">ARG user1</span><br><span class="line">ARG buildno</span><br><span class="line">...</span><br><span class="line">也可以给参数一个默认值：</span><br><span class="line">FROM busybox</span><br><span class="line">ARG user1=someuser</span><br><span class="line">ARG buildno=1</span><br><span class="line">...</span><br><span class="line">如果我们给了ARG定义的参数默认值，那么当build镜像时没有指定参数值，将会使用这个默认值</span><br><span class="line">ONBUILD</span><br><span class="line">语法：</span><br><span class="line">ONBUILD [INSTRUCTION]</span><br><span class="line">这个命令只对当前镜像的子镜像生效。</span><br><span class="line">比如当前镜像为A，在Dockerfile种添加：</span><br><span class="line">ONBUILD RUN ls -al</span><br><span class="line">这个 ls -al 命令不会在A镜像构建或启动的时候执行</span><br><span class="line">此时有一个镜像B是基于A镜像构建的，那么这个ls -al 命令会在B镜像构建的时候被执行。</span><br><span class="line">STOPSIGNAL</span><br><span class="line">语法：</span><br><span class="line">STOPSIGNAL signal</span><br><span class="line">STOPSIGNAL命令是的作用是当容器退出时给系统发送什么样的指令</span><br><span class="line">HEALTHCHECK</span><br><span class="line"> 容器健康状况检查命令</span><br><span class="line">语法有两种：</span><br><span class="line">1. HEALTHCHECK [OPTIONS] CMD command</span><br><span class="line">2. HEALTHCHECK NONE</span><br><span class="line">第一个的功能是在容器内部运行一个命令来检查容器的健康状况</span><br><span class="line">第二个的功能是在基础镜像中取消健康检查命令</span><br><span class="line">[OPTIONS]的选项支持以下三种选项：</span><br><span class="line">    --interval=DURATION 两次检查默认的时间间隔为30秒</span><br><span class="line">    --timeout=DURATION 健康检查命令运行超时时长，默认30秒</span><br><span class="line">    --retries=N 当连续失败指定次数后，则容器被认为是不健康的，状态为unhealthy，默认次数是3</span><br><span class="line">注意：</span><br><span class="line">HEALTHCHECK命令只能出现一次，如果出现了多次，只有最后一个生效。</span><br><span class="line">CMD后边的命令的返回值决定了本次健康检查是否成功，具体的返回值如下：</span><br><span class="line">0: success - 表示容器是健康的</span><br><span class="line">1: unhealthy - 表示容器已经不能工作了</span><br><span class="line">2: reserved - 保留值</span><br><span class="line">例子：</span><br><span class="line">HEALTHCHECK --interval=5m --timeout=3s \</span><br><span class="line">CMD curl -f http://localhost/ || exit 1</span><br><span class="line">健康检查命令是：curl -f http://localhost/ || exit 1</span><br><span class="line">两次检查的间隔时间是5秒</span><br><span class="line">命令超时时间为3秒</span><br></pre></td></tr></table></figure><p>上面知识点很多，字太多，手敲有点累，博主直接从笔记中copy出来，还望读者见谅！</p><font color="aqua">希望大家在Docker梦工厂中畅游后能有所收获，也不负博主整理编辑了半天，hhh~</font>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Docker&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;小述Docker&quot;&gt;&lt;a href=&quot;#小述Docker&quot; class=&quot;headerlink&quot; title=&quot;小述Docker&quot;&gt;
      
    
    </summary>
    
      <category term="docker" scheme="http://github.ymlsfly.xin/categories/docker/"/>
    
    
      <category term="docker" scheme="http://github.ymlsfly.xin/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Maven初印象</title>
    <link href="http://github.ymlsfly.xin/2018/01/17/Maven%E5%88%9D%E5%8D%B0%E8%B1%A1/"/>
    <id>http://github.ymlsfly.xin/2018/01/17/Maven初印象/</id>
    <published>2018-01-17T11:13:30.000Z</published>
    <updated>2018-01-21T08:35:06.242Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>Maven</p></blockquote><p> 项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。</p><p> 博主跟大家一样，一个普通的java战场的小兵，从对maven丝毫不熟悉，至少到了会用，从怕maven到了喜欢maven，无maven不项目，个人观点。相信各位读者在学习了maven，熟悉了maven以后，一定会跟博主一样爱上maven~</p><hr><h2 id="预备…"><a href="#预备…" class="headerlink" title="预备…"></a>预备…</h2><p> 首先小叙下maven的安装配置。</p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p> 进入maven的官网<a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">http://maven.apache.org/download.cgi</a>  下载maven<br> <img src="https://github.com/1139195320/imgs/blob/master/maven/1.png?raw=true" alt=""><br> 上面两个是编译好的二进制包，而后两个是源码包，这里选择windows上用的zip包。</p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p> 下载到本地后，解压缩到系统盘以外的盘，修改maven的conf文件夹下的settings.xml文件:</p><p>这里将maven源换成国内的阿里maven源，在下载速度上会大大加快。<br> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- maven默认的本地仓库 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>F:\mavencangku<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置maven的镜像源 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>;</span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>同时还需要将该settings.xml文件拷贝一份到C:\Users\Administrator.m2<br>这个目录是maven默认的配置文件的目录，当你在其他软件中配置maven时默认指向的便是这个目录，所以复制一份放在这个文件夹会有一定的方便。</p><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>和以往的JAVA_HOME一样，配置maven的家目录：  </p><ol><li>MAVEN_HOME = maven的安装（或说放置）的目录<br>（例如博主配置的：D:\apache-maven-3.5.0）</li><li>PATH 添加：;%MAVEN_HOME%\bin;</li></ol><p>此时可以在cmd控制台输入：mvn -v 或 mvn -version 查看maven的版本并检验maven的安装和配置。</p><hr><h2 id="剖析maven"><a href="#剖析maven" class="headerlink" title="剖析maven"></a>剖析maven</h2><h3 id="maven目录结构"><a href="#maven目录结构" class="headerlink" title="maven目录结构"></a>maven目录结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pom.xml：用于定义或者添加jar包的依赖</span><br><span class="line">src-main：用于存放java源文件</span><br><span class="line">src-test：用于存放测试用例</span><br><span class="line">src-sources：用于存放资源文件</span><br></pre></td></tr></table></figure><h3 id="pom-xml文件介绍"><a href="#pom-xml文件介绍" class="headerlink" title="pom.xml文件介绍"></a>pom.xml文件介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">groupId：包的名称。</span><br><span class="line">artifactId：所述的项目名称，由于有的项目并不是一个jar包构成的，而是由很多的jar包组成的。因此这个groupId就是整个项目的名称。</span><br><span class="line">version：版本号。</span><br><span class="line">packaging：包的类型，一般都是jar，也可以是war之类的。如果不填，默认就是jar。</span><br><span class="line">name和url：一个是名称，一个是maven的地址。</span><br></pre></td></tr></table></figure><h2 id="Eclipse中Maven常用命令"><a href="#Eclipse中Maven常用命令" class="headerlink" title="Eclipse中Maven常用命令"></a>Eclipse中Maven常用命令</h2><p>也许不会用到，但还是知道比较好。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Maven Build:</span><br><span class="line">这个命令用于编译Maven工程，执行命令后会在target文件夹中的classes中生成对应的class文件。</span><br><span class="line">Maven Clean:</span><br><span class="line">删除target文件夹，即删除生成的package包以及class等文件。</span><br><span class="line">Maven Test:</span><br><span class="line">先自动进行编译，在运行所有的测试用例。</span><br><span class="line">Maven install:</span><br><span class="line">发布生成对应的package包。</span><br></pre></td></tr></table></figure></p><h2 id="依赖dependency"><a href="#依赖dependency" class="headerlink" title="依赖dependency"></a>依赖dependency</h2><h3 id="依赖的scope属性"><a href="#依赖的scope属性" class="headerlink" title="依赖的scope属性"></a>依赖的scope属性</h3><p>依赖除了依赖的坐标，还有个不是必须的scope属性，它的属性值有如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.compile：默认值 他表示被依赖项目需要参与当前项目的编译，还有后续的测试，运行周期也参与其中，是一个比较强的依赖。打包的时候通常需要包含进去</span><br><span class="line">2.test：依赖项目仅仅参与测试相关的工作，包括测试代码的编译和执行，不会被打包，例如：junit</span><br><span class="line">3.runtime：表示被依赖项目无需参与项目的编译，不过后期的测试和运行周期需要其参与。与compile相比，跳过了编译而已。例如JDBC驱动，适用运行和测试阶段</span><br><span class="line">4.provided：打包的时候可以不用包进去，别的设施会提供。事实上该依赖理论上可以参与编译，测试，运行等周期。相当于compile，但是打包阶段做了exclude操作</span><br><span class="line">5.system：从参与度来说，和provided相同，不过被依赖项不会从maven仓库下载，而是从本地文件系统拿。需要添加systemPath的属性来定义路径</span><br></pre></td></tr></table></figure></p><h3 id="去除依赖"><a href="#去除依赖" class="headerlink" title="去除依赖"></a>去除依赖</h3><h4 id="项目间传递"><a href="#项目间传递" class="headerlink" title="项目间传递"></a>项目间传递</h4><p>如果我的当前项目是project1，project1要依赖project2，project1依赖project2的配置中加上 \<optional>true\</optional>，表示依赖可选：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.projecct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>project2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>那么以后所有声明依赖project1的项目如果也依赖project2，就必须写手动声明。比如project3依赖project1和project2，如果project3只声明了对project1的依赖，那么project2不会自动加入依赖，需要重新声明对project2的依赖。<br>这种方式排除不了我项目中对第三方jar包所依赖的其他依赖，因为我不可能去修改第三方jar包的pom文件，所以只适合在项目组内部使用。</p><h4 id="依赖过滤"><a href="#依赖过滤" class="headerlink" title="依赖过滤"></a>依赖过滤</h4><ol><li><p>单依赖过滤<br>同依赖过滤直接处理：可以过滤一个或者多个，如果过滤多个要写多个\<exclusion>,此时就不太适用。</exclusion></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.hbase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hbase<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.94.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>多依赖过滤<br>不多解释，相比单依赖过滤，当然就是适用于过滤比较多的依赖啦。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.hbase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hbase<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.94.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>*<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>*<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="下面再附上博主整理的项目版本号和语言划分说明："><a href="#下面再附上博主整理的项目版本号和语言划分说明：" class="headerlink" title="下面再附上博主整理的项目版本号和语言划分说明："></a>下面再附上博主整理的项目版本号和语言划分说明：</h3><h4 id="版本号说明"><a href="#版本号说明" class="headerlink" title="版本号说明"></a>版本号说明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">当前版本号：1.0.0-SNAPSHOT</span><br><span class="line">    本项目采用通用的三级版本号，版本号格式是[主版本号].[副版本号].[修复版本号]-[稳定状态]，如：1.0.0-SNAPSHOT。（主、副、增量）</span><br><span class="line">    1. [主版本号] 是从1开始的整数，表示重大的项目结构和概念调整，一般不会轻易修改该版本号，不同的主版本号不承诺能够兼容。</span><br><span class="line">    2. [副版本号]是从0开始的整数，表示项目的功能特性增加或者BUG修复，同一个[主版本号]下的不同副版本是能够向下兼容的。</span><br><span class="line">    3. [修复版本号]的只是从0开始的整数，一般只是小的BUG修复，细微功能调整。</span><br><span class="line">    4. [稳定状态]的可选值有：SNAPSHOT、RC[序号]、RELEASE。SNAPSHOT表示开发快照版本，该版本未经过严格测试，可能呢不稳定，不宜用于生产环境；RC[序号]表示可选非正式发布版本，比较稳定，但是非正式版本，可能存在问题，可能有多个RC版本，RC序号会有多个；RELEASE表示正式发布版本，经过了严格测试，可以用于生产环境，请尽量用该版本作为生产使用</span><br><span class="line">    Alpha：是内部测试版,一般不向外部发布,会有很多Bug.一般只有测试人员使用。</span><br><span class="line">Beta：也是测试版，这个阶段的版本会一直加入新的功能。在Alpha版之后推出。</span><br><span class="line">RC：(Release　Candidate) 顾名思义么 ! 用在软件上就是候选版本。系统平台上就是发行候选版本。RC版不会再加入新的功能了，主要着重于除错。</span><br><span class="line">GA:General Availability,正式发布的版本，在国外都是用GA来说明release版本的。</span><br><span class="line">RTM：(Release to Manufacture)是给工厂大量压片的版本，内容跟正式版是一样的，不过RTM版也有出限制、评估版的。但是和正式版本的主要程序代码都是一样的。</span><br><span class="line">OEM：是给计算机厂商随着计算机贩卖的，也就是随机版。只能随机器出货，不能零售。只能全新安装，不能从旧有操作系统升级。包装不像零售版精美，通常只有一面CD和说明书(授权书)。 </span><br><span class="line">RVL：号称是正式版，其实RVL根本不是版本的名称。它是中文版/英文版文档破解出来的。 </span><br><span class="line">EVAL：而流通在网络上的EVAL版，与“评估版”类似，功能上和零售版没有区别。 </span><br><span class="line">RTL：Retail(零售版)是真正的正式版，正式上架零售版。在安装盘的i386文件夹里有一个eula.txt，最后有一行EULAID，就是你的 版本。比如简体中文正式版是EULAID:WX.4_PRO_RTL_CN，繁体中文正式版是WX.4_PRO_RTL_TW。其中：如果是WX.开头是 正式版，WB.开头是测试版。_PRE，代表家庭版；_PRO，代表专业版。</span><br><span class="line"></span><br><span class="line">α、β、λ常用来表示软件测试过 程中的三个阶段，α是第一阶段，一般只供内部测试使用；β是第二个阶段，已经消除了软件中大部分的不完善之处，但仍有可能还存在缺陷和漏洞，一般只提供给 特定的用户群来测试使用；λ是第三个阶段，此时产品已经相当成熟，只需在个别地方再做进一步的优化处理即可上市发行。</span><br><span class="line"></span><br><span class="line">Alpha -- 内部测试版　</span><br><span class="line">Beta -- 公开测试版</span><br><span class="line">Cardware -- 属共享软件的一种，只要给作者回复一封电邮或明信片即可。目前这种形式已不多见。</span><br><span class="line">CHT -- 繁体中文版</span><br><span class="line">CN/SPC -- 简体中文版</span><br><span class="line">EN -- 英文版</span><br><span class="line">Corporation &amp; Enterprise -- 企业版</span><br><span class="line">Deluxe -- 豪华版</span><br><span class="line">Demo -- 演示版</span><br><span class="line">Dev -- 开发专用版，程序员版本。</span><br><span class="line">Enhance -- 增强版&amp;；加强版 （属于正式版）</span><br><span class="line">Express&amp;Special --特别版</span><br><span class="line">Final -- 最终版</span><br><span class="line">Free -- 免费版</span><br><span class="line">Full version -- 完全版 （属于正式版）</span><br><span class="line">Green -- 绿色版&amp;；破解版</span><br><span class="line">Mini -- 迷你版&amp;；精简版，只有最基本的功能，占用资源较少</span><br><span class="line">Multi-language -- 多语言版</span><br><span class="line">Plus -- 属增强版，不过大部分是在程序界面及功能上增强。</span><br><span class="line">Preview --预览版</span><br><span class="line">Professional -- 专业版</span><br><span class="line">Regged/Registered -- 已注册版</span><br><span class="line">Release -- 发行版</span><br><span class="line">Retail/RTM -- 零售版</span><br><span class="line">Shareware -- 共享版</span><br><span class="line">Stable -- 稳定版</span><br><span class="line">Standard -- 标准版</span><br><span class="line">Ultimate -- 旗舰版</span><br><span class="line">Upgrade -- 升级版</span><br></pre></td></tr></table></figure><p>语言划分：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SC：Simplified　Chinese简体中文版。 </span><br><span class="line">CN　：　简体中文版 </span><br><span class="line">GBK：简体中文汉字内码扩展规范版。 </span><br><span class="line">TC：Traditional　Chinese繁体中文版。 </span><br><span class="line">CHT　：　繁体中文版 </span><br><span class="line">BIG5：繁体中文大五码版。 </span><br><span class="line">EN　：　英文版 </span><br><span class="line">Multilanguage　：　多语言版 </span><br><span class="line">UTF8：Unicode　Transformation　Format　8　bit，对现有的中文系统不是好的解决方案。</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;Maven&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt; 项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。&lt;/p&gt;
&lt;p&gt; 博主跟大家一样，一个普通的ja
      
    
    </summary>
    
      <category term="maven" scheme="http://github.ymlsfly.xin/categories/maven/"/>
    
    
      <category term="maven" scheme="http://github.ymlsfly.xin/tags/maven/"/>
    
  </entry>
  
  <entry>
    <title>XAMPP安装</title>
    <link href="http://github.ymlsfly.xin/2018/01/17/XAMPP%E5%AE%89%E8%A3%85/"/>
    <id>http://github.ymlsfly.xin/2018/01/17/XAMPP安装/</id>
    <published>2018-01-17T06:15:43.000Z</published>
    <updated>2018-01-18T12:12:58.757Z</updated>
    
    <content type="html"><![CDATA[<h4 id="XAMPP（Apache-MySQL-PHP-PERL）是一个功能强大的建站集成软件包。这个软件包原来的名字是-LAMPP，但是为了避免误解，最新的几个版本就改名为-XAMPP-了。它可以在Windows、Linux、Solaris、Mac-OS-X-等多种操作系统下安装使用，支持多语言：英文、简体中文、繁体中文、韩文、俄文、日文等。"><a href="#XAMPP（Apache-MySQL-PHP-PERL）是一个功能强大的建站集成软件包。这个软件包原来的名字是-LAMPP，但是为了避免误解，最新的几个版本就改名为-XAMPP-了。它可以在Windows、Linux、Solaris、Mac-OS-X-等多种操作系统下安装使用，支持多语言：英文、简体中文、繁体中文、韩文、俄文、日文等。" class="headerlink" title="XAMPP（Apache+MySQL+PHP+PERL）是一个功能强大的建站集成软件包。这个软件包原来的名字是 LAMPP，但是为了避免误解，最新的几个版本就改名为 XAMPP 了。它可以在Windows、Linux、Solaris、Mac OS X 等多种操作系统下安装使用，支持多语言：英文、简体中文、繁体中文、韩文、俄文、日文等。"></a>XAMPP（Apache+MySQL+PHP+PERL）是一个功能强大的建站集成软件包。这个软件包原来的名字是 LAMPP，但是为了避免误解，最新的几个版本就改名为 XAMPP 了。它可以在Windows、Linux、Solaris、Mac OS X 等多种操作系统下安装使用，支持多语言：英文、简体中文、繁体中文、韩文、俄文、日文等。</h4><h3 id="这款软件是免费的，从网上直接下载，下一步下一步的安装。"><a href="#这款软件是免费的，从网上直接下载，下一步下一步的安装。" class="headerlink" title="这款软件是免费的，从网上直接下载，下一步下一步的安装。"></a>这款软件是免费的，从网上直接下载，下一步下一步的安装。</h3><p><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/1.png" alt=""><br><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/2.png" alt=""><br><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/3.png" alt=""></p><h3 id="安装后即可启动"><a href="#安装后即可启动" class="headerlink" title="安装后即可启动"></a>安装后即可启动</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">08</span>:<span class="number">41</span>:<span class="number">23</span>  [mysql]    Problem detected!</span><br><span class="line"><span class="number">08</span>:<span class="number">41</span>:<span class="number">23</span>  [mysql]    Port <span class="number">3306</span> <span class="keyword">in</span> use by ""D:\MySQL\MySQL Server <span class="number">5</span>.<span class="number">6</span>\bin\mysqld.exe" --defaults-file="D:\MySQL\MySQL Server <span class="number">5</span>.<span class="number">6</span>\my.ini" MySQL56"!</span><br><span class="line"><span class="number">08</span>:<span class="number">41</span>:<span class="number">23</span>  [mysql]    MySQL WILL <span class="keyword">NOT</span> <span class="built_in">start</span> without the configured ports free!</span><br><span class="line"><span class="number">08</span>:<span class="number">41</span>:<span class="number">23</span>  [mysql]    You need to uninstall/disable/reconfigure the blocking application</span><br><span class="line"><span class="number">08</span>:<span class="number">41</span>:<span class="number">23</span>  [mysql]    or reconfigure MySQL and the Control Panel to listen on a different port</span><br></pre></td></tr></table></figure><p> 这是博主安装打开xampp后xampp控制台的输出，很显然报错了，错误信息是说mysql的端口冲突了。因为博主的本机已安装有mysql，并设置了自启模式，占用了3306端口。</p><p>解决方法：在本地服务中找到MySQL，将其停止，即可祛除其对xampp中自带的MySQL的冲突。</p><p><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/4.png" alt=""></p><h3 id="检查端口冲突"><a href="#检查端口冲突" class="headerlink" title="检查端口冲突"></a>检查端口冲突</h3><p>安装完xampp后，可以先将其中的服务，如Apache、MySQL等启动试试，看看是否出现端口冲突。<br>由于我本机已装有Apache，由于有用而不能卸，故需要对xampp中的Apache端口进行修改。</p><h4 id="解决Apache端口冲突"><a href="#解决Apache端口冲突" class="headerlink" title="解决Apache端口冲突"></a>解决Apache端口冲突</h4><p><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/5.png" alt=""></p><p>首先得修改xampp中的配置，如上，我已将Apache的hppd端口改为800，hppd-ssh的端口改为4430，这一步之后还得修改Apache配置文件：</p><p><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/6.png" alt=""></p><p>打开hppd.conf文件，找到里面配置端口为80的位置，可以快速搜索，然后将其端口修改为800<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Listen 12.34.56.78:800</span><br><span class="line">Listen 800</span><br><span class="line">...</span><br><span class="line">ServerName localhost:800</span><br></pre></td></tr></table></figure></p><p>打开hppd-ssh.conf文件，找到里面配置端口为443的位置，可以快速搜索，然后将其端口修改为4430<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Listen 4430</span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">VirtualHost</span> <span class="attr">_default_:4430</span>&gt;</span></span><br><span class="line">...</span><br><span class="line">ServerName www.example.com:4430</span><br></pre></td></tr></table></figure></p><p>修改完端口后，再在xampp控制台启动Apache和MySQL：<br><img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/7.png" alt=""></p><h4 id="如果上面不存在端口冲突，则不需要修改配置文件中的端口，上图中的Port-s-则显示为：80-443"><a href="#如果上面不存在端口冲突，则不需要修改配置文件中的端口，上图中的Port-s-则显示为：80-443" class="headerlink" title="如果上面不存在端口冲突，则不需要修改配置文件中的端口，上图中的Port(s)则显示为：80,443"></a>如果上面不存在端口冲突，则不需要修改配置文件中的端口，上图中的Port(s)则显示为：80,443</h4><h4 id="修改MySQL默认密码"><a href="#修改MySQL默认密码" class="headerlink" title="修改MySQL默认密码"></a>修改MySQL默认密码</h4><p> 因为安装xampp后的mysql默认密码为空，在浏览器地址上输入<a href="http://localhost:800/phpmyadmin，能登录到phpmyadmin。进入到数据库的控制面板，然后选择名称为mysql的数据库，可从" target="_blank" rel="noopener">http://localhost:800/phpmyadmin，能登录到phpmyadmin。进入到数据库的控制面板，然后选择名称为mysql的数据库，可从</a> user表中看出，root用户的密码为空，接下来使用sql语句来修改root的密码，如此处修改为root，注意此处使用了mysql的password函数，存入库中的密码是已经进行了加密的密文。<br> 可以通过执行下面这句sql语句来修改：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user SET password=PASSWORD(&apos;root&apos;) WHERE user=&apos;root&apos;</span><br></pre></td></tr></table></figure></p><p> <img src="https://raw.githubusercontent.com/1139195320/imgs/9287bfd6683cc84211711e43b993078e83757c41/xampp/8.png" alt=""></p><h4 id="此时密码修改任务还未完成，打开xampp-phpMyAdmin目录下的config-inc-php文件进行如下修改："><a href="#此时密码修改任务还未完成，打开xampp-phpMyAdmin目录下的config-inc-php文件进行如下修改：" class="headerlink" title="此时密码修改任务还未完成，打开xampp\phpMyAdmin目录下的config.inc.php文件进行如下修改："></a>此时密码修改任务还未完成，打开xampp\phpMyAdmin目录下的config.inc.php文件进行如下修改：</h4><ol><li><p>设置参数，密码一定和自己修改的root的密码一致</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$cfg[<span class="string">'Servers'</span>][$i][<span class="string">'user'</span>] = <span class="string">'root'</span>;</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][$i][<span class="string">'password'</span>] = <span class="string">'root'</span>;</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][$i][<span class="string">'extension'</span>] = <span class="string">'mysqli'</span>;</span><br></pre></td></tr></table></figure></li><li><p>取消其（phpmyadmin）自动登录</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $cfg['Servers'][$i]['auth_type'] = 'config';</span></span><br><span class="line">$cfg[<span class="string">'Servers'</span>][$i][<span class="string">'auth_type'</span>] = <span class="string">'cookie'</span>;</span><br></pre></td></tr></table></figure></li><li><p>设置phpmyadmin在管理员下新增用户时可以设置密码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#$cfg['Servers'][$i]['AllowNoPassword'] = false;</span></span><br></pre></td></tr></table></figure></li></ol><p>到此你的xampp就已经安装完毕了，可以启动xampp控制台，启动Apache和MySQL，然后在网页输入：<br>【<a href="http://localhost:端口】" target="_blank" rel="noopener">http://localhost:端口】</a>   访问Apache<br>【<a href="http://localhost:端口/phpmyadmin】" target="_blank" rel="noopener">http://localhost:端口/phpmyadmin】</a>    访问页端MySQL</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;XAMPP（Apache-MySQL-PHP-PERL）是一个功能强大的建站集成软件包。这个软件包原来的名字是-LAMPP，但是为了避免误解，最新的几个版本就改名为-XAMPP-了。它可以在Windows、Linux、Solaris、Mac-OS-X-等多种操作系
      
    
    </summary>
    
      <category term="软件安装" scheme="http://github.ymlsfly.xin/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="xampp" scheme="http://github.ymlsfly.xin/tags/xampp/"/>
    
      <category term="server" scheme="http://github.ymlsfly.xin/tags/server/"/>
    
  </entry>
  
  <entry>
    <title>用Java来发邮件</title>
    <link href="http://github.ymlsfly.xin/2018/01/16/%E7%94%A8Java%E6%9D%A5%E5%8F%91%E9%82%AE%E4%BB%B6/"/>
    <id>http://github.ymlsfly.xin/2018/01/16/用Java来发邮件/</id>
    <published>2018-01-16T13:10:45.000Z</published>
    <updated>2018-01-16T15:04:33.193Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>强大的Java也是可以发邮件的</p></blockquote><h1 id="案例一、在自己本机上搭邮件服务器体验邮件的发送接收"><a href="#案例一、在自己本机上搭邮件服务器体验邮件的发送接收" class="headerlink" title="案例一、在自己本机上搭邮件服务器体验邮件的发送接收"></a>案例一、在自己本机上搭邮件服务器体验邮件的发送接收</h1><h2 id="预备条件："><a href="#预备条件：" class="headerlink" title="预备条件："></a>预备条件：</h2><ol><li>先下载好Foxmail和易邮邮件服务器，可以直接百度下载，很方便，免费软件</li><li>案例中需要用到javax.mail的jar包，博主用的maven，此处附上maven坐标<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.mail&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mail&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.4.7&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li></ol><hr><h3 id="易邮邮件服务器是把自己本机作为邮件服务器，可以在本机上创建邮箱（自定义的邮箱，反正是服务器是你的电脑），切记本案例中易邮邮件服务器不能关闭，否则就和云服务器关闭了那样一个道理，用它创建的邮箱就不能用了。"><a href="#易邮邮件服务器是把自己本机作为邮件服务器，可以在本机上创建邮箱（自定义的邮箱，反正是服务器是你的电脑），切记本案例中易邮邮件服务器不能关闭，否则就和云服务器关闭了那样一个道理，用它创建的邮箱就不能用了。" class="headerlink" title="易邮邮件服务器是把自己本机作为邮件服务器，可以在本机上创建邮箱（自定义的邮箱，反正是服务器是你的电脑），切记本案例中易邮邮件服务器不能关闭，否则就和云服务器关闭了那样一个道理，用它创建的邮箱就不能用了。"></a>易邮邮件服务器是把自己本机作为邮件服务器，可以在本机上创建邮箱（自定义的邮箱，反正是服务器是你的电脑），切记本案例中易邮邮件服务器不能关闭，否则就和云服务器关闭了那样一个道理，用它创建的邮箱就不能用了。</h3><hr><h3 id="Foxmail里面可以添加邮箱，属于本机的邮箱（如易邮邮件服务器创建的邮箱，本机有效，填写的服务器为localhost），和网上你申请的邮箱（如QQ邮箱、网易邮箱、Gmail邮箱等）均可，在此要注意QQ邮箱需要在网页打开邮箱-gt-设置-gt-账户-gt-开启服务（在中间靠下的位置）打开POP3-SMTP服务和IMAP-SMTP服务，若没打开后面第二个案例就会连不上了。"><a href="#Foxmail里面可以添加邮箱，属于本机的邮箱（如易邮邮件服务器创建的邮箱，本机有效，填写的服务器为localhost），和网上你申请的邮箱（如QQ邮箱、网易邮箱、Gmail邮箱等）均可，在此要注意QQ邮箱需要在网页打开邮箱-gt-设置-gt-账户-gt-开启服务（在中间靠下的位置）打开POP3-SMTP服务和IMAP-SMTP服务，若没打开后面第二个案例就会连不上了。" class="headerlink" title="Foxmail里面可以添加邮箱，属于本机的邮箱（如易邮邮件服务器创建的邮箱，本机有效，填写的服务器为localhost），和网上你申请的邮箱（如QQ邮箱、网易邮箱、Gmail邮箱等）均可，在此要注意QQ邮箱需要在网页打开邮箱-&gt;设置-&gt;账户-&gt;开启服务（在中间靠下的位置）打开POP3/SMTP服务和IMAP/SMTP服务，若没打开后面第二个案例就会连不上了。"></a>Foxmail里面可以添加邮箱，属于本机的邮箱（如易邮邮件服务器创建的邮箱，本机有效，填写的服务器为localhost），和网上你申请的邮箱（如QQ邮箱、网易邮箱、Gmail邮箱等）均可，在此要注意QQ邮箱需要在网页打开邮箱-&gt;设置-&gt;账户-&gt;开启服务（在中间靠下的位置）打开POP3/SMTP服务和IMAP/SMTP服务，若没打开后面第二个案例就会连不上了。</h3><hr><h3 id="一定要在Foxmail中将在易邮邮件服务器中创建的邮箱添加进去，用于查看接收邮件"><a href="#一定要在Foxmail中将在易邮邮件服务器中创建的邮箱添加进去，用于查看接收邮件" class="headerlink" title="一定要在Foxmail中将在易邮邮件服务器中创建的邮箱添加进去，用于查看接收邮件"></a>一定要在Foxmail中将在易邮邮件服务器中创建的邮箱添加进去，用于查看接收邮件</h3><h2 id="终于开始撸本机邮件练习的代码部分了："><a href="#终于开始撸本机邮件练习的代码部分了：" class="headerlink" title="终于开始撸本机邮件练习的代码部分了："></a>终于开始撸本机邮件练习的代码部分了：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建连接对象，连接到邮箱服务器</span></span><br><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">Session session = Session.getInstance(properties, <span class="keyword">new</span> Authenticator() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//用来连接邮箱服务器的一个邮箱账号（能连上本机邮箱服务器即可）</span></span><br><span class="line">        <span class="comment">//此处用的是易邮邮件服务器创建的邮箱（邮箱密码不能错，否则连不上服务器）</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(<span class="string">"user1@store.com"</span>, <span class="string">"123"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//1.1开启debug模式，可以看到邮件的发送状态（非必要）</span></span><br><span class="line">session.setDebug(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//2.创建邮件对象</span></span><br><span class="line">Message message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//2.1设置发件人</span></span><br><span class="line">    <span class="comment">//此处设置的是接收者接收邮件上标注的发送者邮箱</span></span><br><span class="line">    <span class="comment">//本人同样是用的在易邮邮件服务器上创建的虚拟邮箱</span></span><br><span class="line">    message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">"service@store.com"</span>));</span><br><span class="line">    <span class="comment">//2.2设置收件人</span></span><br><span class="line">    message.setRecipient(Message.RecipientType.TO, <span class="keyword">new</span> InternetAddress(<span class="string">"user2@store.com"</span>));</span><br><span class="line">    <span class="comment">//2.3设置邮件主题（标题）</span></span><br><span class="line">    message.setSubject(<span class="string">"一封测试邮件"</span>);</span><br><span class="line">    <span class="comment">//2.4设置邮件的正文</span></span><br><span class="line">    <span class="comment">//此处设置的邮件内容是html代码，可以很方便的在里面书写html代码，加链接等等</span></span><br><span class="line">    message.setContent(<span class="string">"&lt;h1&gt;邮件内容&lt;/h1&gt;"</span>, <span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    <span class="comment">//3.发送一封邮件</span></span><br><span class="line">    Transport.send(message);</span><br><span class="line">    <span class="comment">//此时邮件正在发送，如果debug打开则可以在控制台看到打印的信息</span></span><br><span class="line">    <span class="comment">//发送成功后在Foxmail中点击菜单上的[收取]，邮件发送完成可以收到新邮件并打开查看</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="案例二、使用自己在网上申请的邮箱来通过代码发邮件"><a href="#案例二、使用自己在网上申请的邮箱来通过代码发邮件" class="headerlink" title="案例二、使用自己在网上申请的邮箱来通过代码发邮件"></a>案例二、使用自己在网上申请的邮箱来通过代码发邮件</h1><h2 id="预备条件：准备至少两个邮箱（否则只能单个邮箱自己发给自己了）"><a href="#预备条件：准备至少两个邮箱（否则只能单个邮箱自己发给自己了）" class="headerlink" title="预备条件：准备至少两个邮箱（否则只能单个邮箱自己发给自己了）"></a>预备条件：准备至少两个邮箱（否则只能单个邮箱自己发给自己了）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//必须采用加密，不然发不了，会报异常说不安全</span></span><br><span class="line">    MailSSLSocketFactory sf = <span class="keyword">new</span> MailSSLSocketFactory();</span><br><span class="line">    sf.setTrustAllHosts(<span class="keyword">true</span>);</span><br><span class="line">    prop.put(<span class="string">"mail.smtp.ssl.enable"</span>, <span class="string">"true"</span>);</span><br><span class="line">    prop.put(<span class="string">"mail.smtp.ssl.socketFactory"</span>, sf);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果是使用126邮箱，此处改为smtp.126.com即可</span></span><br><span class="line">    prop.setProperty(<span class="string">"mail.host"</span>, <span class="string">"smtp.qq.com"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"mail.transport.protocol"</span>, <span class="string">"smtp"</span>);</span><br><span class="line">    <span class="comment">//设置端口为465安全端口</span></span><br><span class="line">    prop.setProperty(<span class="string">"mail.smtp.port"</span>, <span class="string">"465"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"mail.smtp.auth"</span>, <span class="string">"true"</span>);</span><br><span class="line">    <span class="comment">//使用JavaMail发送邮件的5个步骤</span></span><br><span class="line">    <span class="comment">//1、创建session</span></span><br><span class="line">    Session session = Session.getInstance(prop);</span><br><span class="line">    <span class="comment">//开启Session的debug模式，这样就可以查看到程序发送Email的运行状态</span></span><br><span class="line">    session.setDebug(<span class="keyword">true</span>);</span><br><span class="line">    <span class="comment">//2、通过session得到transport对象</span></span><br><span class="line">    Transport ts = session.getTransport();</span><br><span class="line">    <span class="comment">//3、使用邮箱的用户名和密码连上邮件服务器，发送邮件时，发件人需要提交邮箱的用户名和密码给smtp服务器，用户名和密码都通过验证之后才能够正常发送邮件给收件人。</span></span><br><span class="line">    <span class="comment">//注意这里不是使用的邮箱密码，而是邮箱设置中的授权码</span></span><br><span class="line">    <span class="comment">//授权码在网页打开邮箱-&gt;设置-&gt;账户-&gt;开启服务旁边可以看到（如果是QQ邮箱则需要）</span></span><br><span class="line">    <span class="comment">//如果是其余的邮箱，如网易126邮箱，则不需要授权码，此处使用邮箱和密码，即可连接服务器</span></span><br><span class="line">    ts.connect(<span class="string">"smtp.qq.com"</span>, <span class="string">"******@qq.com"</span>, <span class="string">"******zhmj*****"</span>);</span><br><span class="line">    <span class="comment">//4、创建邮件</span></span><br><span class="line">    Message message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">    <span class="comment">//设置发件人</span></span><br><span class="line">    message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">"******@qq.com"</span>));</span><br><span class="line">    <span class="comment">//设置收件人</span></span><br><span class="line">    message.setRecipient(Message.RecipientType.TO, <span class="keyword">new</span> InternetAddress(<span class="string">"******@126.com"</span>));</span><br><span class="line">    message.setSubject(<span class="string">"测试邮件"</span>);</span><br><span class="line">    <span class="comment">//设置邮件的正文</span></span><br><span class="line">    <span class="comment">//同上设置的html代码内容的邮件</span></span><br><span class="line">    message.setContent(<span class="string">"&lt;h1&gt;***测试邮件&lt;/h1&gt;"</span>, <span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">    <span class="comment">//5、发送邮件</span></span><br><span class="line">    ts.sendMessage(message, message.getAllRecipients());</span><br><span class="line">    ts.close();</span><br><span class="line">    <span class="comment">//本案例中演示用的博主的qq邮箱向126邮箱发送邮件</span></span><br><span class="line">    <span class="comment">//切记QQ邮箱的特殊性，打开POP3/SMTP和IMAP/SMTP服务，以及使用授权码，Properties要设置SSL安全连接</span></span><br><span class="line">    <span class="comment">//连接服务器一定是发送邮件的邮箱的所在服务器</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;强大的Java也是可以发邮件的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;案例一、在自己本机上搭邮件服务器体验邮件的发送接收&quot;&gt;&lt;a href=&quot;#案例一、在自己本机上搭邮件服务器体验邮件
      
    
    </summary>
    
      <category term="java" scheme="http://github.ymlsfly.xin/categories/java/"/>
    
    
      <category term="java" scheme="http://github.ymlsfly.xin/tags/java/"/>
    
      <category term="mail" scheme="http://github.ymlsfly.xin/tags/mail/"/>
    
  </entry>
  
</feed>
